import{c as ye,r as g,j as a,a as me,u as ue,d as bo,_ as Ft,g as wo,e as xo,m as ge,M as Ct,B as we,I as le,X as _o,P as So,F as jo}from"./index-BaEFQLEX.js";import{P as X,c as hs,f as tt,b as ee,h as Eo,r as fs,g as ve,R as ko,d as No,e as As,u as ms,a as To}from"./index-D1vMBQ8Q.js";import{U as Ht}from"./users-CEXREdD-.js";import{a as Os,C as ke}from"./clock-4SYy3DC8.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ye("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ye("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var Io="Label",Un=g.forwardRef((r,e)=>a.jsx(X.label,{...r,ref:e,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||((n=r.onMouseDown)==null||n.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Un.displayName=Io;var $o=Un;function te({className:r,...e}){return a.jsx($o,{"data-slot":"label",className:me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function $s({className:r,...e}){return a.jsx("div",{"data-slot":"card",className:me("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...e})}function Lo({className:r,...e}){return a.jsx("div",{"data-slot":"card-header",className:me("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function Uo({className:r,...e}){return a.jsx("h4",{"data-slot":"card-title",className:me("leading-none",r),...e})}function Do({className:r,...e}){return a.jsx("p",{"data-slot":"card-description",className:me("text-muted-foreground",r),...e})}function Ls({className:r,...e}){return a.jsx("div",{"data-slot":"card-content",className:me("px-6 [&:last-child]:pb-6",r),...e})}var ps="Progress",gs=100,[Mo,jh]=hs(ps),[qo,Fo]=Mo(ps),Dn=g.forwardRef((r,e)=>{const{__scopeProgress:t,value:s=null,max:n,getValueLabel:i=Bo,...o}=r;(n||n===0)&&!Us(n)&&console.error(Vo(`${n}`,"Progress"));const l=Us(n)?n:gs;s!==null&&!Ds(s,l)&&console.error(Ho(`${s}`,"Progress"));const c=Ds(s,l)?s:null,d=or(c)?i(c,l):void 0;return a.jsx(qo,{scope:t,value:c,max:l,children:a.jsx(X.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":or(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Fn(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Dn.displayName=ps;var Mn="ProgressIndicator",qn=g.forwardRef((r,e)=>{const{__scopeProgress:t,...s}=r,n=Fo(Mn,t);return a.jsx(X.div,{"data-state":Fn(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:e})});qn.displayName=Mn;function Bo(r,e){return`${Math.round(r/e*100)}%`}function Fn(r,e){return r==null?"indeterminate":r===e?"complete":"loading"}function or(r){return typeof r=="number"}function Us(r){return or(r)&&!isNaN(r)&&r>0}function Ds(r,e){return or(r)&&!isNaN(r)&&r<=e&&r>=0}function Vo(r,e){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gs}\`.`}function Ho(r,e){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gs} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var zo=Dn,Wo=qn;function Ko({className:r,value:e,...t}){return a.jsx(zo,{"data-slot":"progress",className:me("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r),...t,children:a.jsx(Wo,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function Ms(r,[e,t]){return Math.min(t,Math.max(e,r))}function Go(r,e=globalThis==null?void 0:globalThis.document){const t=tt(r);g.useEffect(()=>{const s=n=>{n.key==="Escape"&&t(n)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var Jo="DismissableLayer",zr="dismissableLayer.update",Yo="dismissableLayer.pointerDownOutside",Xo="dismissableLayer.focusOutside",qs,Bn=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vn=g.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=r,d=g.useContext(Bn),[u,h]=g.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),y=ue(e,k=>h(k)),f=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=f.indexOf(v),S=u?f.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,E=S>=_,N=ea(k=>{const O=k.target,j=[...d.branches].some($=>$.contains(O));!E||j||(n==null||n(k),o==null||o(k),k.defaultPrevented||l==null||l())},m),C=ta(k=>{const O=k.target;[...d.branches].some($=>$.contains(O))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},m);return Go(k=>{S===d.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),g.useEffect(()=>{if(u)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(qs=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Fs(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=qs)}},[u,m,t,d]),g.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Fs())},[u,d]),g.useEffect(()=>{const k=()=>p({});return document.addEventListener(zr,k),()=>document.removeEventListener(zr,k)},[]),a.jsx(X.div,{...c,ref:y,style:{pointerEvents:b?E?"auto":"none":void 0,...r.style},onFocusCapture:ee(r.onFocusCapture,C.onFocusCapture),onBlurCapture:ee(r.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ee(r.onPointerDownCapture,N.onPointerDownCapture)})});Vn.displayName=Jo;var Qo="DismissableLayerBranch",Zo=g.forwardRef((r,e)=>{const t=g.useContext(Bn),s=g.useRef(null),n=ue(e,s);return g.useEffect(()=>{const i=s.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),a.jsx(X.div,{...r,ref:n})});Zo.displayName=Qo;function ea(r,e=globalThis==null?void 0:globalThis.document){const t=tt(r),s=g.useRef(!1),n=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){Hn(Yo,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",n.current),n.current=c,e.addEventListener("click",n.current,{once:!0})):c()}else e.removeEventListener("click",n.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",n.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function ta(r,e=globalThis==null?void 0:globalThis.document){const t=tt(r),s=g.useRef(!1);return g.useEffect(()=>{const n=i=>{i.target&&!s.current&&Hn(Xo,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",n),()=>e.removeEventListener("focusin",n)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Fs(){const r=new CustomEvent(zr);document.dispatchEvent(r)}function Hn(r,e,t,{discrete:s}){const n=t.originalEvent.target,i=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&n.addEventListener(r,e,{once:!0}),s?Eo(n,i):n.dispatchEvent(i)}var jr=0;function ra(){g.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Bs()),document.body.insertAdjacentElement("beforeend",r[1]??Bs()),jr++,()=>{jr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jr--}},[])}function Bs(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Er="focusScope.autoFocusOnMount",kr="focusScope.autoFocusOnUnmount",Vs={bubbles:!1,cancelable:!0},sa="FocusScope",zn=g.forwardRef((r,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=r,[l,c]=g.useState(null),d=tt(n),u=tt(i),h=g.useRef(null),m=ue(e,f=>c(f)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let f=function(b){if(p.paused||!l)return;const E=b.target;l.contains(E)?h.current=E:Fe(h.current,{select:!0})},v=function(b){if(p.paused||!l)return;const E=b.relatedTarget;E!==null&&(l.contains(E)||Fe(h.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Fe(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",v);const S=new MutationObserver(_);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",v),S.disconnect()}}},[s,l,p.paused]),g.useEffect(()=>{if(l){zs.add(p);const f=document.activeElement;if(!l.contains(f)){const _=new CustomEvent(Er,Vs);l.addEventListener(Er,d),l.dispatchEvent(_),_.defaultPrevented||(na(ca(Wn(l)),{select:!0}),document.activeElement===f&&Fe(l))}return()=>{l.removeEventListener(Er,d),setTimeout(()=>{const _=new CustomEvent(kr,Vs);l.addEventListener(kr,u),l.dispatchEvent(_),_.defaultPrevented||Fe(f??document.body,{select:!0}),l.removeEventListener(kr,u),zs.remove(p)},0)}}},[l,d,u,p]);const y=g.useCallback(f=>{if(!t&&!s||p.paused)return;const v=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,_=document.activeElement;if(v&&_){const S=f.currentTarget,[b,E]=ia(S);b&&E?!f.shiftKey&&_===E?(f.preventDefault(),t&&Fe(b,{select:!0})):f.shiftKey&&_===b&&(f.preventDefault(),t&&Fe(E,{select:!0})):_===S&&f.preventDefault()}},[t,s,p.paused]);return a.jsx(X.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});zn.displayName=sa;function na(r,{select:e=!1}={}){const t=document.activeElement;for(const s of r)if(Fe(s,{select:e}),document.activeElement!==t)return}function ia(r){const e=Wn(r),t=Hs(e,r),s=Hs(e.reverse(),r);return[t,s]}function Wn(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Hs(r,e){for(const t of r)if(!oa(t,{upTo:e}))return t}function oa(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function aa(r){return r instanceof HTMLInputElement&&"select"in r}function Fe(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&aa(r)&&e&&r.select()}}var zs=la();function la(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=Ws(r,e),r.unshift(e)},remove(e){var t;r=Ws(r,e),(t=r[0])==null||t.resume()}}}function Ws(r,e){const t=[...r],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function ca(r){return r.filter(e=>e.tagName!=="A")}const da=["top","right","bottom","left"],He=Math.min,he=Math.max,ar=Math.round,Wt=Math.floor,Pe=r=>({x:r,y:r}),ua={left:"right",right:"left",bottom:"top",top:"bottom"},ha={start:"end",end:"start"};function Wr(r,e,t){return he(r,He(e,t))}function Ue(r,e){return typeof r=="function"?r(e):r}function De(r){return r.split("-")[0]}function Et(r){return r.split("-")[1]}function vs(r){return r==="x"?"y":"x"}function ys(r){return r==="y"?"height":"width"}const fa=new Set(["top","bottom"]);function Ce(r){return fa.has(De(r))?"y":"x"}function bs(r){return vs(Ce(r))}function ma(r,e,t){t===void 0&&(t=!1);const s=Et(r),n=bs(r),i=ys(n);let o=n==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=lr(o)),[o,lr(o)]}function pa(r){const e=lr(r);return[Kr(r),e,Kr(e)]}function Kr(r){return r.replace(/start|end/g,e=>ha[e])}const Ks=["left","right"],Gs=["right","left"],ga=["top","bottom"],va=["bottom","top"];function ya(r,e,t){switch(r){case"top":case"bottom":return t?e?Gs:Ks:e?Ks:Gs;case"left":case"right":return e?ga:va;default:return[]}}function ba(r,e,t,s){const n=Et(r);let i=ya(De(r),t==="start",s);return n&&(i=i.map(o=>o+"-"+n),e&&(i=i.concat(i.map(Kr)))),i}function lr(r){return r.replace(/left|right|bottom|top/g,e=>ua[e])}function wa(r){return{top:0,right:0,bottom:0,left:0,...r}}function Kn(r){return typeof r!="number"?wa(r):{top:r,right:r,bottom:r,left:r}}function cr(r){const{x:e,y:t,width:s,height:n}=r;return{width:s,height:n,top:t,left:e,right:e+s,bottom:t+n,x:e,y:t}}function Js(r,e,t){let{reference:s,floating:n}=r;const i=Ce(e),o=bs(e),l=ys(o),c=De(e),d=i==="y",u=s.x+s.width/2-n.width/2,h=s.y+s.height/2-n.height/2,m=s[l]/2-n[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-n.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-n.width,y:h};break;default:p={x:s.x,y:s.y}}switch(Et(e)){case"start":p[o]-=m*(t&&d?-1:1);break;case"end":p[o]+=m*(t&&d?-1:1);break}return p}const xa=async(r,e,t)=>{const{placement:s="bottom",strategy:n="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:r,floating:e,strategy:n}),{x:u,y:h}=Js(d,s,c),m=s,p={},y=0;for(let f=0;f<l.length;f++){const{name:v,fn:_}=l[f],{x:S,y:b,data:E,reset:N}=await _({x:u,y:h,initialPlacement:s,placement:m,strategy:n,middlewareData:p,rects:d,platform:o,elements:{reference:r,floating:e}});u=S??u,h=b??h,p={...p,[v]:{...p[v],...E}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:r,floating:e,strategy:n}):N.rects),{x:u,y:h}=Js(d,m,c)),f=-1)}return{x:u,y:h,placement:m,strategy:n,middlewareData:p}};async function Dt(r,e){var t;e===void 0&&(e={});const{x:s,y:n,platform:i,rects:o,elements:l,strategy:c}=r,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=Ue(e,r),y=Kn(p),v=l[m?h==="floating"?"reference":"floating":h],_=cr(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(v)))==null||t?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),S=h==="floating"?{x:s,y:n,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=cr(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:b,strategy:c}):S);return{top:(_.top-N.top+y.top)/E.y,bottom:(N.bottom-_.bottom+y.bottom)/E.y,left:(_.left-N.left+y.left)/E.x,right:(N.right-_.right+y.right)/E.x}}const _a=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:s,placement:n,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Ue(r,e)||{};if(d==null)return{};const h=Kn(u),m={x:t,y:s},p=bs(n),y=ys(p),f=await o.getDimensions(d),v=p==="y",_=v?"top":"left",S=v?"bottom":"right",b=v?"clientHeight":"clientWidth",E=i.reference[y]+i.reference[p]-m[p]-i.floating[y],N=m[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=C?C[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=l.floating[b]||i.floating[y]);const O=E/2-N/2,j=k/2-f[y]/2-1,$=He(h[_],j),w=He(h[S],j),L=$,F=k-f[y]-w,M=k/2-f[y]/2+O,J=Wr(L,M,F),D=!c.arrow&&Et(n)!=null&&M!==J&&i.reference[y]/2-(M<L?$:w)-f[y]/2<0,B=D?M<L?M-L:M-F:0;return{[p]:m[p]+B,data:{[p]:J,centerOffset:M-J-B,...D&&{alignmentOffset:B}},reset:D}}}),Sa=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,s;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:f=!0,...v}=Ue(r,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const _=De(n),S=Ce(l),b=De(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(b||!f?[lr(l)]:pa(l)),C=y!=="none";!m&&C&&N.push(...ba(l,f,y,E));const k=[l,...N],O=await Dt(e,v),j=[];let $=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&j.push(O[_]),h){const M=ma(n,o,E);j.push(O[M[0]],O[M[1]])}if($=[...$,{placement:n,overflows:j}],!j.every(M=>M<=0)){var w,L;const M=(((w=i.flip)==null?void 0:w.index)||0)+1,J=k[M];if(J&&(!(h==="alignment"?S!==Ce(J):!1)||$.every(R=>Ce(R.placement)===S?R.overflows[0]>0:!0)))return{data:{index:M,overflows:$},reset:{placement:J}};let D=(L=$.filter(B=>B.overflows[0]<=0).sort((B,R)=>B.overflows[1]-R.overflows[1])[0])==null?void 0:L.placement;if(!D)switch(p){case"bestFit":{var F;const B=(F=$.filter(R=>{if(C){const W=Ce(R.placement);return W===S||W==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(W=>W>0).reduce((W,oe)=>W+oe,0)]).sort((R,W)=>R[1]-W[1])[0])==null?void 0:F[0];B&&(D=B);break}case"initialPlacement":D=l;break}if(n!==D)return{reset:{placement:D}}}return{}}}};function Ys(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function Xs(r){return da.some(e=>r[e]>=0)}const ja=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...n}=Ue(r,e);switch(s){case"referenceHidden":{const i=await Dt(e,{...n,elementContext:"reference"}),o=Ys(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Xs(o)}}}case"escaped":{const i=await Dt(e,{...n,altBoundary:!0}),o=Ys(i,t.floating);return{data:{escapedOffsets:o,escaped:Xs(o)}}}default:return{}}}}},Gn=new Set(["left","top"]);async function Ea(r,e){const{placement:t,platform:s,elements:n}=r,i=await(s.isRTL==null?void 0:s.isRTL(n.floating)),o=De(t),l=Et(t),c=Ce(t)==="y",d=Gn.has(o)?-1:1,u=i&&c?-1:1,h=Ue(e,r);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const ka=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,s;const{x:n,y:i,placement:o,middlewareData:l}=e,c=await Ea(e,r);return o===((t=l.offset)==null?void 0:t.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:n+c.x,y:i+c.y,data:{...c,placement:o}}}}},Na=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:s,placement:n}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:_,y:S}=v;return{x:_,y:S}}},...c}=Ue(r,e),d={x:t,y:s},u=await Dt(e,c),h=Ce(De(n)),m=vs(h);let p=d[m],y=d[h];if(i){const v=m==="y"?"top":"left",_=m==="y"?"bottom":"right",S=p+u[v],b=p-u[_];p=Wr(S,p,b)}if(o){const v=h==="y"?"top":"left",_=h==="y"?"bottom":"right",S=y+u[v],b=y-u[_];y=Wr(S,y,b)}const f=l.fn({...e,[m]:p,[h]:y});return{...f,data:{x:f.x-t,y:f.y-s,enabled:{[m]:i,[h]:o}}}}}},Ta=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:s,placement:n,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ue(r,e),u={x:t,y:s},h=Ce(n),m=vs(h);let p=u[m],y=u[h];const f=Ue(l,e),v=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const b=m==="y"?"height":"width",E=i.reference[m]-i.floating[b]+v.mainAxis,N=i.reference[m]+i.reference[b]-v.mainAxis;p<E?p=E:p>N&&(p=N)}if(d){var _,S;const b=m==="y"?"width":"height",E=Gn.has(De(n)),N=i.reference[h]-i.floating[b]+(E&&((_=o.offset)==null?void 0:_[h])||0)+(E?0:v.crossAxis),C=i.reference[h]+i.reference[b]+(E?0:((S=o.offset)==null?void 0:S[h])||0)-(E?v.crossAxis:0);y<N?y=N:y>C&&(y=C)}return{[m]:p,[h]:y}}}},Ca=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,s;const{placement:n,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Ue(r,e),u=await Dt(e,d),h=De(n),m=Et(n),p=Ce(n)==="y",{width:y,height:f}=i.floating;let v,_;h==="top"||h==="bottom"?(v=h,_=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=h,v=m==="end"?"top":"bottom");const S=f-u.top-u.bottom,b=y-u.left-u.right,E=He(f-u[v],S),N=He(y-u[_],b),C=!e.middlewareData.shift;let k=E,O=N;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(O=b),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(k=S),C&&!m){const $=he(u.left,0),w=he(u.right,0),L=he(u.top,0),F=he(u.bottom,0);p?O=y-2*($!==0||w!==0?$+w:he(u.left,u.right)):k=f-2*(L!==0||F!==0?L+F:he(u.top,u.bottom))}await c({...e,availableWidth:O,availableHeight:k});const j=await o.getDimensions(l.floating);return y!==j.width||f!==j.height?{reset:{rects:!0}}:{}}}};function mr(){return typeof window<"u"}function kt(r){return Jn(r)?(r.nodeName||"").toLowerCase():"#document"}function fe(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Ae(r){var e;return(e=(Jn(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function Jn(r){return mr()?r instanceof Node||r instanceof fe(r).Node:!1}function je(r){return mr()?r instanceof Element||r instanceof fe(r).Element:!1}function Re(r){return mr()?r instanceof HTMLElement||r instanceof fe(r).HTMLElement:!1}function Qs(r){return!mr()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof fe(r).ShadowRoot}const Pa=new Set(["inline","contents"]);function Bt(r){const{overflow:e,overflowX:t,overflowY:s,display:n}=Ee(r);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!Pa.has(n)}const Ra=new Set(["table","td","th"]);function Aa(r){return Ra.has(kt(r))}const Oa=[":popover-open",":modal"];function pr(r){return Oa.some(e=>{try{return r.matches(e)}catch{return!1}})}const Ia=["transform","translate","scale","rotate","perspective"],$a=["transform","translate","scale","rotate","perspective","filter"],La=["paint","layout","strict","content"];function ws(r){const e=xs(),t=je(r)?Ee(r):r;return Ia.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||$a.some(s=>(t.willChange||"").includes(s))||La.some(s=>(t.contain||"").includes(s))}function Ua(r){let e=ze(r);for(;Re(e)&&!St(e);){if(ws(e))return e;if(pr(e))return null;e=ze(e)}return null}function xs(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Da=new Set(["html","body","#document"]);function St(r){return Da.has(kt(r))}function Ee(r){return fe(r).getComputedStyle(r)}function gr(r){return je(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function ze(r){if(kt(r)==="html")return r;const e=r.assignedSlot||r.parentNode||Qs(r)&&r.host||Ae(r);return Qs(e)?e.host:e}function Yn(r){const e=ze(r);return St(e)?r.ownerDocument?r.ownerDocument.body:r.body:Re(e)&&Bt(e)?e:Yn(e)}function Mt(r,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=Yn(r),i=n===((s=r.ownerDocument)==null?void 0:s.body),o=fe(n);if(i){const l=Gr(o);return e.concat(o,o.visualViewport||[],Bt(n)?n:[],l&&t?Mt(l):[])}return e.concat(n,Mt(n,[],t))}function Gr(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function Xn(r){const e=Ee(r);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=Re(r),i=n?r.offsetWidth:t,o=n?r.offsetHeight:s,l=ar(t)!==i||ar(s)!==o;return l&&(t=i,s=o),{width:t,height:s,$:l}}function _s(r){return je(r)?r:r.contextElement}function xt(r){const e=_s(r);if(!Re(e))return Pe(1);const t=e.getBoundingClientRect(),{width:s,height:n,$:i}=Xn(e);let o=(i?ar(t.width):t.width)/s,l=(i?ar(t.height):t.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Ma=Pe(0);function Qn(r){const e=fe(r);return!xs()||!e.visualViewport?Ma:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qa(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==fe(r)?!1:e}function rt(r,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=_s(r);let o=Pe(1);e&&(s?je(s)&&(o=xt(s)):o=xt(r));const l=qa(i,t,s)?Qn(i):Pe(0);let c=(n.left+l.x)/o.x,d=(n.top+l.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(i){const m=fe(i),p=s&&je(s)?fe(s):s;let y=m,f=Gr(y);for(;f&&s&&p!==y;){const v=xt(f),_=f.getBoundingClientRect(),S=Ee(f),b=_.left+(f.clientLeft+parseFloat(S.paddingLeft))*v.x,E=_.top+(f.clientTop+parseFloat(S.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=b,d+=E,y=fe(f),f=Gr(y)}}return cr({width:u,height:h,x:c,y:d})}function Ss(r,e){const t=gr(r).scrollLeft;return e?e.left+t:rt(Ae(r)).left+t}function Zn(r,e,t){t===void 0&&(t=!1);const s=r.getBoundingClientRect(),n=s.left+e.scrollLeft-(t?0:Ss(r,s)),i=s.top+e.scrollTop;return{x:n,y:i}}function Fa(r){let{elements:e,rect:t,offsetParent:s,strategy:n}=r;const i=n==="fixed",o=Ae(s),l=e?pr(e.floating):!1;if(s===o||l&&i)return t;let c={scrollLeft:0,scrollTop:0},d=Pe(1);const u=Pe(0),h=Re(s);if((h||!h&&!i)&&((kt(s)!=="body"||Bt(o))&&(c=gr(s)),Re(s))){const p=rt(s);d=xt(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const m=o&&!h&&!i?Zn(o,c,!0):Pe(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:t.y*d.y-c.scrollTop*d.y+u.y+m.y}}function Ba(r){return Array.from(r.getClientRects())}function Va(r){const e=Ae(r),t=gr(r),s=r.ownerDocument.body,n=he(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=he(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-t.scrollLeft+Ss(r);const l=-t.scrollTop;return Ee(s).direction==="rtl"&&(o+=he(e.clientWidth,s.clientWidth)-n),{width:n,height:i,x:o,y:l}}function Ha(r,e){const t=fe(r),s=Ae(r),n=t.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(n){i=n.width,o=n.height;const d=xs();(!d||d&&e==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:i,height:o,x:l,y:c}}const za=new Set(["absolute","fixed"]);function Wa(r,e){const t=rt(r,!0,e==="fixed"),s=t.top+r.clientTop,n=t.left+r.clientLeft,i=Re(r)?xt(r):Pe(1),o=r.clientWidth*i.x,l=r.clientHeight*i.y,c=n*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Zs(r,e,t){let s;if(e==="viewport")s=Ha(r,t);else if(e==="document")s=Va(Ae(r));else if(je(e))s=Wa(e,t);else{const n=Qn(r);s={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return cr(s)}function ei(r,e){const t=ze(r);return t===e||!je(t)||St(t)?!1:Ee(t).position==="fixed"||ei(t,e)}function Ka(r,e){const t=e.get(r);if(t)return t;let s=Mt(r,[],!1).filter(l=>je(l)&&kt(l)!=="body"),n=null;const i=Ee(r).position==="fixed";let o=i?ze(r):r;for(;je(o)&&!St(o);){const l=Ee(o),c=ws(o);!c&&l.position==="fixed"&&(n=null),(i?!c&&!n:!c&&l.position==="static"&&!!n&&za.has(n.position)||Bt(o)&&!c&&ei(r,o))?s=s.filter(u=>u!==o):n=l,o=ze(o)}return e.set(r,s),s}function Ga(r){let{element:e,boundary:t,rootBoundary:s,strategy:n}=r;const o=[...t==="clippingAncestors"?pr(e)?[]:Ka(e,this._c):[].concat(t),s],l=o[0],c=o.reduce((d,u)=>{const h=Zs(e,u,n);return d.top=he(h.top,d.top),d.right=He(h.right,d.right),d.bottom=He(h.bottom,d.bottom),d.left=he(h.left,d.left),d},Zs(e,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ja(r){const{width:e,height:t}=Xn(r);return{width:e,height:t}}function Ya(r,e,t){const s=Re(e),n=Ae(e),i=t==="fixed",o=rt(r,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Pe(0);function d(){c.x=Ss(n)}if(s||!s&&!i)if((kt(e)!=="body"||Bt(n))&&(l=gr(e)),s){const p=rt(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else n&&d();i&&!s&&n&&d();const u=n&&!s&&!i?Zn(n,l):Pe(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function Nr(r){return Ee(r).position==="static"}function en(r,e){if(!Re(r)||Ee(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Ae(r)===t&&(t=t.ownerDocument.body),t}function ti(r,e){const t=fe(r);if(pr(r))return t;if(!Re(r)){let n=ze(r);for(;n&&!St(n);){if(je(n)&&!Nr(n))return n;n=ze(n)}return t}let s=en(r,e);for(;s&&Aa(s)&&Nr(s);)s=en(s,e);return s&&St(s)&&Nr(s)&&!ws(s)?t:s||Ua(r)||t}const Xa=async function(r){const e=this.getOffsetParent||ti,t=this.getDimensions,s=await t(r.floating);return{reference:Ya(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Qa(r){return Ee(r).direction==="rtl"}const Za={convertOffsetParentRelativeRectToViewportRelativeRect:Fa,getDocumentElement:Ae,getClippingRect:Ga,getOffsetParent:ti,getElementRects:Xa,getClientRects:Ba,getDimensions:Ja,getScale:xt,isElement:je,isRTL:Qa};function ri(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function el(r,e){let t=null,s;const n=Ae(r);function i(){var l;clearTimeout(s),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=r.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=d;if(l||e(),!m||!p)return;const y=Wt(h),f=Wt(n.clientWidth-(u+m)),v=Wt(n.clientHeight-(h+p)),_=Wt(u),b={rootMargin:-y+"px "+-f+"px "+-v+"px "+-_+"px",threshold:he(0,He(1,c))||1};let E=!0;function N(C){const k=C[0].intersectionRatio;if(k!==c){if(!E)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!ri(d,r.getBoundingClientRect())&&o(),E=!1}try{t=new IntersectionObserver(N,{...b,root:n.ownerDocument})}catch{t=new IntersectionObserver(N,b)}t.observe(r)}return o(!0),i}function tl(r,e,t,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=_s(r),u=n||i?[...d?Mt(d):[],...Mt(e)]:[];u.forEach(_=>{n&&_.addEventListener("scroll",t,{passive:!0}),i&&_.addEventListener("resize",t)});const h=d&&l?el(d,t):null;let m=-1,p=null;o&&(p=new ResizeObserver(_=>{let[S]=_;S&&S.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),t()}),d&&!c&&p.observe(d),p.observe(e));let y,f=c?rt(r):null;c&&v();function v(){const _=rt(r);f&&!ri(f,_)&&t(),f=_,y=requestAnimationFrame(v)}return t(),()=>{var _;u.forEach(S=>{n&&S.removeEventListener("scroll",t),i&&S.removeEventListener("resize",t)}),h==null||h(),(_=p)==null||_.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const rl=ka,sl=Na,nl=Sa,il=Ca,ol=ja,tn=_a,al=Ta,ll=(r,e,t)=>{const s=new Map,n={platform:Za,...t},i={...n.platform,_c:s};return xa(r,e,{...n,platform:i})};var cl=typeof document<"u",dl=function(){},rr=cl?g.useLayoutEffect:dl;function dr(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,s,n;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!dr(r[s],e[s]))return!1;return!0}if(n=Object.keys(r),t=n.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,n[s]))return!1;for(s=t;s--!==0;){const i=n[s];if(!(i==="_owner"&&r.$$typeof)&&!dr(r[i],e[i]))return!1}return!0}return r!==r&&e!==e}function si(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function rn(r,e){const t=si(r);return Math.round(e*t)/t}function Tr(r){const e=g.useRef(r);return rr(()=>{e.current=r}),e}function ul(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=r,[u,h]=g.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(s);dr(m,s)||p(s);const[y,f]=g.useState(null),[v,_]=g.useState(null),S=g.useCallback(R=>{R!==C.current&&(C.current=R,f(R))},[]),b=g.useCallback(R=>{R!==k.current&&(k.current=R,_(R))},[]),E=i||y,N=o||v,C=g.useRef(null),k=g.useRef(null),O=g.useRef(u),j=c!=null,$=Tr(c),w=Tr(n),L=Tr(d),F=g.useCallback(()=>{if(!C.current||!k.current)return;const R={placement:e,strategy:t,middleware:m};w.current&&(R.platform=w.current),ll(C.current,k.current,R).then(W=>{const oe={...W,isPositioned:L.current!==!1};M.current&&!dr(O.current,oe)&&(O.current=oe,fs.flushSync(()=>{h(oe)}))})},[m,e,t,w,L]);rr(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[d]);const M=g.useRef(!1);rr(()=>(M.current=!0,()=>{M.current=!1}),[]),rr(()=>{if(E&&(C.current=E),N&&(k.current=N),E&&N){if($.current)return $.current(E,N,F);F()}},[E,N,F,$,j]);const J=g.useMemo(()=>({reference:C,floating:k,setReference:S,setFloating:b}),[S,b]),D=g.useMemo(()=>({reference:E,floating:N}),[E,N]),B=g.useMemo(()=>{const R={position:t,left:0,top:0};if(!D.floating)return R;const W=rn(D.floating,u.x),oe=rn(D.floating,u.y);return l?{...R,transform:"translate("+W+"px, "+oe+"px)",...si(D.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:W,top:oe}},[t,l,D.floating,u.x,u.y]);return g.useMemo(()=>({...u,update:F,refs:J,elements:D,floatingStyles:B}),[u,F,J,D,B])}const hl=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:s,padding:n}=typeof r=="function"?r(t):r;return s&&e(s)?s.current!=null?tn({element:s.current,padding:n}).fn(t):{}:s?tn({element:s,padding:n}).fn(t):{}}}},fl=(r,e)=>({...rl(r),options:[r,e]}),ml=(r,e)=>({...sl(r),options:[r,e]}),pl=(r,e)=>({...al(r),options:[r,e]}),gl=(r,e)=>({...nl(r),options:[r,e]}),vl=(r,e)=>({...il(r),options:[r,e]}),yl=(r,e)=>({...ol(r),options:[r,e]}),bl=(r,e)=>({...hl(r),options:[r,e]});var wl="Arrow",ni=g.forwardRef((r,e)=>{const{children:t,width:s=10,height:n=5,...i}=r;return a.jsx(X.svg,{...i,ref:e,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ni.displayName=wl;var xl=ni;function _l(r){const[e,t]=g.useState(void 0);return ve(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const s=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=r.offsetWidth,l=r.offsetHeight;t({width:o,height:l})});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else t(void 0)},[r]),e}var js="Popper",[ii,oi]=hs(js),[Sl,ai]=ii(js),li=r=>{const{__scopePopper:e,children:t}=r,[s,n]=g.useState(null);return a.jsx(Sl,{scope:e,anchor:s,onAnchorChange:n,children:t})};li.displayName=js;var ci="PopperAnchor",di=g.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:s,...n}=r,i=ai(ci,t),o=g.useRef(null),l=ue(e,o),c=g.useRef(null);return g.useEffect(()=>{const d=c.current;c.current=(s==null?void 0:s.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),s?null:a.jsx(X.div,{...n,ref:l})});di.displayName=ci;var Es="PopperContent",[jl,El]=ii(Es),ui=g.forwardRef((r,e)=>{var A,V,Q,z,q,H;const{__scopePopper:t,side:s="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...f}=r,v=ai(Es,t),[_,S]=g.useState(null),b=ue(e,ae=>S(ae)),[E,N]=g.useState(null),C=_l(E),k=(C==null?void 0:C.width)??0,O=(C==null?void 0:C.height)??0,j=s+(i!=="center"?"-"+i:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},w=Array.isArray(d)?d:[d],L=w.length>0,F={padding:$,boundary:w.filter(Nl),altBoundary:L},{refs:M,floatingStyles:J,placement:D,isPositioned:B,middlewareData:R}=ul({strategy:"fixed",placement:j,whileElementsMounted:(...ae)=>tl(...ae,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[fl({mainAxis:n+O,alignmentAxis:o}),c&&ml({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pl():void 0,...F}),c&&gl({...F}),vl({...F,apply:({elements:ae,rects:x,availableWidth:T,availableHeight:P})=>{const{width:K,height:Y}=x.reference,Z=ae.floating.style;Z.setProperty("--radix-popper-available-width",`${T}px`),Z.setProperty("--radix-popper-available-height",`${P}px`),Z.setProperty("--radix-popper-anchor-width",`${K}px`),Z.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),E&&bl({element:E,padding:l}),Tl({arrowWidth:k,arrowHeight:O}),m&&yl({strategy:"referenceHidden",...F})]}),[W,oe]=mi(D),be=tt(y);ve(()=>{B&&(be==null||be())},[B,be]);const Ye=(A=R.arrow)==null?void 0:A.x,Oe=(V=R.arrow)==null?void 0:V.y,pe=((Q=R.arrow)==null?void 0:Q.centerOffset)!==0,[Me,Ie]=g.useState();return ve(()=>{_&&Ie(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:B?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(z=R.transformOrigin)==null?void 0:z.x,(q=R.transformOrigin)==null?void 0:q.y].join(" "),...((H=R.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:a.jsx(jl,{scope:t,placedSide:W,onArrowChange:N,arrowX:Ye,arrowY:Oe,shouldHideArrow:pe,children:a.jsx(X.div,{"data-side":W,"data-align":oe,...f,ref:b,style:{...f.style,animation:B?void 0:"none"}})})})});ui.displayName=Es;var hi="PopperArrow",kl={top:"bottom",right:"left",bottom:"top",left:"right"},fi=g.forwardRef(function(e,t){const{__scopePopper:s,...n}=e,i=El(hi,s),o=kl[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(xl,{...n,ref:t,style:{...n.style,display:"block"}})})});fi.displayName=hi;function Nl(r){return r!==null}var Tl=r=>({name:"transformOrigin",options:r,fn(e){var v,_,S;const{placement:t,rects:s,middlewareData:n}=e,o=((v=n.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:r.arrowWidth,c=o?0:r.arrowHeight,[d,u]=mi(t),h={start:"0%",center:"50%",end:"100%"}[u],m=(((_=n.arrow)==null?void 0:_.x)??0)+l/2,p=(((S=n.arrow)==null?void 0:S.y)??0)+c/2;let y="",f="";return d==="bottom"?(y=o?h:`${m}px`,f=`${-c}px`):d==="top"?(y=o?h:`${m}px`,f=`${s.floating.height+c}px`):d==="right"?(y=`${-c}px`,f=o?h:`${p}px`):d==="left"&&(y=`${s.floating.width+c}px`,f=o?h:`${p}px`),{data:{x:y,y:f}}}});function mi(r){const[e,t="center"]=r.split("-");return[e,t]}var Cl=li,Pl=di,Rl=ui,Al=fi,Ol="Portal",pi=g.forwardRef((r,e)=>{var l;const{container:t,...s}=r,[n,i]=g.useState(!1);ve(()=>i(!0),[]);const o=t||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?ko.createPortal(a.jsx(X.div,{...s,ref:e}),o):null});pi.displayName=Ol;function Il(r){const e=g.useRef({value:r,previous:r});return g.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var gi=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$l="VisuallyHidden",Ll=g.forwardRef((r,e)=>a.jsx(X.span,{...r,ref:e,style:{...gi,...r.style}}));Ll.displayName=$l;var Ul=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},ot=new WeakMap,Kt=new WeakMap,Gt={},Cr=0,vi=function(r){return r&&(r.host||vi(r.parentNode))},Dl=function(r,e){return e.map(function(t){if(r.contains(t))return t;var s=vi(t);return s&&r.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},Ml=function(r,e,t,s){var n=Dl(e,Array.isArray(r)?r:[r]);Gt[t]||(Gt[t]=new WeakMap);var i=Gt[t],o=[],l=new Set,c=new Set(n),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};n.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(s),y=p!==null&&p!=="false",f=(ot.get(m)||0)+1,v=(i.get(m)||0)+1;ot.set(m,f),i.set(m,v),o.push(m),f===1&&y&&Kt.set(m,!0),v===1&&m.setAttribute(t,"true"),y||m.setAttribute(s,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return u(e),l.clear(),Cr++,function(){o.forEach(function(h){var m=ot.get(h)-1,p=i.get(h)-1;ot.set(h,m),i.set(h,p),m||(Kt.has(h)||h.removeAttribute(s),Kt.delete(h)),p||h.removeAttribute(t)}),Cr--,Cr||(ot=new WeakMap,ot=new WeakMap,Kt=new WeakMap,Gt={})}},ql=function(r,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(r)?r:[r]),n=Ul(r);return n?(s.push.apply(s,Array.from(n.querySelectorAll("[aria-live], script"))),Ml(s,n,t,"aria-hidden")):function(){return null}},Te=function(){return Te=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Te.apply(this,arguments)};function yi(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t}function Fl(r,e,t){if(t||arguments.length===2)for(var s=0,n=e.length,i;s<n;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return r.concat(i||Array.prototype.slice.call(e))}var sr="right-scroll-bar-position",nr="width-before-scroll-bar",Bl="with-scroll-bars-hidden",Vl="--removed-body-scroll-bar-size";function Pr(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function Hl(r,e){var t=g.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(s){var n=t.value;n!==s&&(t.value=s,t.callback(s,n))}}}})[0];return t.callback=e,t.facade}var zl=typeof window<"u"?g.useLayoutEffect:g.useEffect,sn=new WeakMap;function Wl(r,e){var t=Hl(null,function(s){return r.forEach(function(n){return Pr(n,s)})});return zl(function(){var s=sn.get(t);if(s){var n=new Set(s),i=new Set(r),o=t.current;n.forEach(function(l){i.has(l)||Pr(l,null)}),i.forEach(function(l){n.has(l)||Pr(l,o)})}sn.set(t,r)},[r]),t}function Kl(r){return r}function Gl(r,e){e===void 0&&(e=Kl);var t=[],s=!1,n={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(i){var o=e(i,s);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){s=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),t={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),t}}}};return n}function Jl(r){r===void 0&&(r={});var e=Gl(null);return e.options=Te({async:!0,ssr:!1},r),e}var bi=function(r){var e=r.sideCar,t=yi(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,Te({},t))};bi.isSideCarExport=!0;function Yl(r,e){return r.useMedium(e),bi}var wi=Jl(),Rr=function(){},vr=g.forwardRef(function(r,e){var t=g.useRef(null),s=g.useState({onScrollCapture:Rr,onWheelCapture:Rr,onTouchMoveCapture:Rr}),n=s[0],i=s[1],o=r.forwardProps,l=r.children,c=r.className,d=r.removeScrollBar,u=r.enabled,h=r.shards,m=r.sideCar,p=r.noRelative,y=r.noIsolation,f=r.inert,v=r.allowPinchZoom,_=r.as,S=_===void 0?"div":_,b=r.gapMode,E=yi(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,C=Wl([t,e]),k=Te(Te({},E),n);return g.createElement(g.Fragment,null,u&&g.createElement(N,{sideCar:wi,removeScrollBar:d,shards:h,noRelative:p,noIsolation:y,inert:f,setCallbacks:i,allowPinchZoom:!!v,lockRef:t,gapMode:b}),o?g.cloneElement(g.Children.only(l),Te(Te({},k),{ref:C})):g.createElement(S,Te({},k,{className:c,ref:C}),l))});vr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vr.classNames={fullWidth:nr,zeroRight:sr};var Xl=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ql(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=Xl();return e&&r.setAttribute("nonce",e),r}function Zl(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function ec(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var tc=function(){var r=0,e=null;return{add:function(t){r==0&&(e=Ql())&&(Zl(e,t),ec(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rc=function(){var r=tc();return function(e,t){g.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},xi=function(){var r=rc(),e=function(t){var s=t.styles,n=t.dynamic;return r(s,n),null};return e},sc={left:0,top:0,right:0,gap:0},Ar=function(r){return parseInt(r||"",10)||0},nc=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],s=e[r==="padding"?"paddingTop":"marginTop"],n=e[r==="padding"?"paddingRight":"marginRight"];return[Ar(t),Ar(s),Ar(n)]},ic=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return sc;var e=nc(r),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},oc=xi(),_t="data-scroll-locked",ac=function(r,e,t,s){var n=r.left,i=r.top,o=r.right,l=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(Bl,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(_t,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sr,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(nr,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(sr," .").concat(sr,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(nr," .").concat(nr,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(_t,`] {
    `).concat(Vl,": ").concat(l,`px;
  }
`)},nn=function(){var r=parseInt(document.body.getAttribute(_t)||"0",10);return isFinite(r)?r:0},lc=function(){g.useEffect(function(){return document.body.setAttribute(_t,(nn()+1).toString()),function(){var r=nn()-1;r<=0?document.body.removeAttribute(_t):document.body.setAttribute(_t,r.toString())}},[])},cc=function(r){var e=r.noRelative,t=r.noImportant,s=r.gapMode,n=s===void 0?"margin":s;lc();var i=g.useMemo(function(){return ic(n)},[n]);return g.createElement(oc,{styles:ac(i,!e,n,t?"":"!important")})},Jr=!1;if(typeof window<"u")try{var Jt=Object.defineProperty({},"passive",{get:function(){return Jr=!0,!0}});window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Jr=!1}var at=Jr?{passive:!1}:!1,dc=function(r){return r.tagName==="TEXTAREA"},_i=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!dc(r)&&t[e]==="visible")},uc=function(r){return _i(r,"overflowY")},hc=function(r){return _i(r,"overflowX")},on=function(r,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var n=Si(r,s);if(n){var i=ji(r,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},fc=function(r){var e=r.scrollTop,t=r.scrollHeight,s=r.clientHeight;return[e,t,s]},mc=function(r){var e=r.scrollLeft,t=r.scrollWidth,s=r.clientWidth;return[e,t,s]},Si=function(r,e){return r==="v"?uc(e):hc(e)},ji=function(r,e){return r==="v"?fc(e):mc(e)},pc=function(r,e){return r==="h"&&e==="rtl"?-1:1},gc=function(r,e,t,s,n){var i=pc(r,window.getComputedStyle(e).direction),o=i*s,l=t.target,c=e.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var p=ji(r,l),y=p[0],f=p[1],v=p[2],_=f-v-i*y;(y||_)&&Si(r,l)&&(h+=_,m+=y);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(d=!0),d},Yt=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},an=function(r){return[r.deltaX,r.deltaY]},ln=function(r){return r&&"current"in r?r.current:r},vc=function(r,e){return r[0]===e[0]&&r[1]===e[1]},yc=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},bc=0,lt=[];function wc(r){var e=g.useRef([]),t=g.useRef([0,0]),s=g.useRef(),n=g.useState(bc++)[0],i=g.useState(xi)[0],o=g.useRef(r);g.useEffect(function(){o.current=r},[r]),g.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(n));var f=Fl([r.lockRef.current],(r.shards||[]).map(ln),!0).filter(Boolean);return f.forEach(function(v){return v.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),f.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(n))})}}},[r.inert,r.lockRef.current,r.shards]);var l=g.useCallback(function(f,v){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!o.current.allowPinchZoom;var _=Yt(f),S=t.current,b="deltaX"in f?f.deltaX:S[0]-_[0],E="deltaY"in f?f.deltaY:S[1]-_[1],N,C=f.target,k=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in f&&k==="h"&&C.type==="range")return!1;var O=on(k,C);if(!O)return!0;if(O?N=k:(N=k==="v"?"h":"v",O=on(k,C)),!O)return!1;if(!s.current&&"changedTouches"in f&&(b||E)&&(s.current=N),!N)return!0;var j=s.current||N;return gc(j,v,f,j==="h"?b:E)},[]),c=g.useCallback(function(f){var v=f;if(!(!lt.length||lt[lt.length-1]!==i)){var _="deltaY"in v?an(v):Yt(v),S=e.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&vc(N.delta,_)})[0];if(S&&S.should){v.cancelable&&v.preventDefault();return}if(!S){var b=(o.current.shards||[]).map(ln).filter(Boolean).filter(function(N){return N.contains(v.target)}),E=b.length>0?l(v,b[0]):!o.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),d=g.useCallback(function(f,v,_,S){var b={name:f,delta:v,target:_,should:S,shadowParent:xc(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(E){return E!==b})},1)},[]),u=g.useCallback(function(f){t.current=Yt(f),s.current=void 0},[]),h=g.useCallback(function(f){d(f.type,an(f),f.target,l(f,r.lockRef.current))},[]),m=g.useCallback(function(f){d(f.type,Yt(f),f.target,l(f,r.lockRef.current))},[]);g.useEffect(function(){return lt.push(i),r.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,at),document.addEventListener("touchmove",c,at),document.addEventListener("touchstart",u,at),function(){lt=lt.filter(function(f){return f!==i}),document.removeEventListener("wheel",c,at),document.removeEventListener("touchmove",c,at),document.removeEventListener("touchstart",u,at)}},[]);var p=r.removeScrollBar,y=r.inert;return g.createElement(g.Fragment,null,y?g.createElement(i,{styles:yc(n)}):null,p?g.createElement(cc,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function xc(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const _c=Yl(wi,wc);var Ei=g.forwardRef(function(r,e){return g.createElement(vr,Te({},r,{ref:e,sideCar:_c}))});Ei.classNames=vr.classNames;var Sc=[" ","Enter","ArrowUp","ArrowDown"],jc=[" ","Enter"],st="Select",[yr,br,Ec]=To(st),[Nt,Eh]=hs(st,[Ec,oi]),wr=oi(),[kc,Ke]=Nt(st),[Nc,Tc]=Nt(st),ki=r=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:y}=r,f=wr(e),[v,_]=g.useState(null),[S,b]=g.useState(null),[E,N]=g.useState(!1),C=No(d),[k,O]=As({prop:s,defaultProp:n??!1,onChange:i,caller:st}),[j,$]=As({prop:o,defaultProp:l,onChange:c,caller:st}),w=g.useRef(null),L=v?y||!!v.closest("form"):!0,[F,M]=g.useState(new Set),J=Array.from(F).map(D=>D.props.value).join(";");return a.jsx(Cl,{...f,children:a.jsxs(kc,{required:p,scope:e,trigger:v,onTriggerChange:_,valueNode:S,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:N,contentId:ms(),value:j,onValueChange:$,open:k,onOpenChange:O,dir:C,triggerPointerDownPosRef:w,disabled:m,children:[a.jsx(yr.Provider,{scope:e,children:a.jsx(Nc,{scope:r.__scopeSelect,onNativeOptionAdd:g.useCallback(D=>{M(B=>new Set(B).add(D))},[]),onNativeOptionRemove:g.useCallback(D=>{M(B=>{const R=new Set(B);return R.delete(D),R})},[]),children:t})}),L?a.jsxs(Gi,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:j,onChange:D=>$(D.target.value),disabled:m,form:y,children:[j===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},J):null]})})};ki.displayName=st;var Ni="SelectTrigger",Ti=g.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:s=!1,...n}=r,i=wr(t),o=Ke(Ni,t),l=o.disabled||s,c=ue(e,o.onTriggerChange),d=br(t),u=g.useRef("touch"),[h,m,p]=Yi(f=>{const v=d().filter(b=>!b.disabled),_=v.find(b=>b.value===o.value),S=Xi(v,f,_);S!==void 0&&o.onValueChange(S.value)}),y=f=>{l||(o.onOpenChange(!0),p()),f&&(o.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return a.jsx(Pl,{asChild:!0,...i,children:a.jsx(X.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ji(o.value)?"":void 0,...n,ref:c,onClick:ee(n.onClick,f=>{f.currentTarget.focus(),u.current!=="mouse"&&y(f)}),onPointerDown:ee(n.onPointerDown,f=>{u.current=f.pointerType;const v=f.target;v.hasPointerCapture(f.pointerId)&&v.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(y(f),f.preventDefault())}),onKeyDown:ee(n.onKeyDown,f=>{const v=h.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&m(f.key),!(v&&f.key===" ")&&Sc.includes(f.key)&&(y(),f.preventDefault())})})})});Ti.displayName=Ni;var Ci="SelectValue",Pi=g.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:n,children:i,placeholder:o="",...l}=r,c=Ke(Ci,t),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=ue(e,c.onValueNodeChange);return ve(()=>{d(u)},[d,u]),a.jsx(X.span,{...l,ref:h,style:{pointerEvents:"none"},children:Ji(c.value)?a.jsx(a.Fragment,{children:o}):i})});Pi.displayName=Ci;var Cc="SelectIcon",Ri=g.forwardRef((r,e)=>{const{__scopeSelect:t,children:s,...n}=r;return a.jsx(X.span,{"aria-hidden":!0,...n,ref:e,children:s||""})});Ri.displayName=Cc;var Pc="SelectPortal",Ai=r=>a.jsx(pi,{asChild:!0,...r});Ai.displayName=Pc;var nt="SelectContent",Oi=g.forwardRef((r,e)=>{const t=Ke(nt,r.__scopeSelect),[s,n]=g.useState();if(ve(()=>{n(new DocumentFragment)},[]),!t.open){const i=s;return i?fs.createPortal(a.jsx(Ii,{scope:r.__scopeSelect,children:a.jsx(yr.Slot,{scope:r.__scopeSelect,children:a.jsx("div",{children:r.children})})}),i):null}return a.jsx($i,{...r,ref:e})});Oi.displayName=nt;var _e=10,[Ii,Ge]=Nt(nt),Rc="SelectContentImpl",Ac=bo("SelectContent.RemoveScroll"),$i=g.forwardRef((r,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:f,avoidCollisions:v,..._}=r,S=Ke(nt,t),[b,E]=g.useState(null),[N,C]=g.useState(null),k=ue(e,A=>E(A)),[O,j]=g.useState(null),[$,w]=g.useState(null),L=br(t),[F,M]=g.useState(!1),J=g.useRef(!1);g.useEffect(()=>{if(b)return ql(b)},[b]),ra();const D=g.useCallback(A=>{const[V,...Q]=L().map(H=>H.ref.current),[z]=Q.slice(-1),q=document.activeElement;for(const H of A)if(H===q||(H==null||H.scrollIntoView({block:"nearest"}),H===V&&N&&(N.scrollTop=0),H===z&&N&&(N.scrollTop=N.scrollHeight),H==null||H.focus(),document.activeElement!==q))return},[L,N]),B=g.useCallback(()=>D([O,b]),[D,O,b]);g.useEffect(()=>{F&&B()},[F,B]);const{onOpenChange:R,triggerPointerDownPosRef:W}=S;g.useEffect(()=>{if(b){let A={x:0,y:0};const V=z=>{var q,H;A={x:Math.abs(Math.round(z.pageX)-(((q=W.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(z.pageY)-(((H=W.current)==null?void 0:H.y)??0))}},Q=z=>{A.x<=10&&A.y<=10?z.preventDefault():b.contains(z.target)||R(!1),document.removeEventListener("pointermove",V),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",Q,{capture:!0})}}},[b,R,W]),g.useEffect(()=>{const A=()=>R(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[R]);const[oe,be]=Yi(A=>{const V=L().filter(q=>!q.disabled),Q=V.find(q=>q.ref.current===document.activeElement),z=Xi(V,A,Q);z&&setTimeout(()=>z.ref.current.focus())}),Ye=g.useCallback((A,V,Q)=>{const z=!J.current&&!Q;(S.value!==void 0&&S.value===V||z)&&(j(A),z&&(J.current=!0))},[S.value]),Oe=g.useCallback(()=>b==null?void 0:b.focus(),[b]),pe=g.useCallback((A,V,Q)=>{const z=!J.current&&!Q;(S.value!==void 0&&S.value===V||z)&&w(A)},[S.value]),Me=s==="popper"?Yr:Li,Ie=Me===Yr?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:f,avoidCollisions:v}:{};return a.jsx(Ii,{scope:t,content:b,viewport:N,onViewportChange:C,itemRefCallback:Ye,selectedItem:O,onItemLeave:Oe,itemTextRefCallback:pe,focusSelectedItem:B,selectedItemText:$,position:s,isPositioned:F,searchRef:oe,children:a.jsx(Ei,{as:Ac,allowPinchZoom:!0,children:a.jsx(zn,{asChild:!0,trapped:S.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:ee(n,A=>{var V;(V=S.trigger)==null||V.focus({preventScroll:!0}),A.preventDefault()}),children:a.jsx(Vn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:a.jsx(Me,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:A=>A.preventDefault(),..._,...Ie,onPlaced:()=>M(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,A=>{const V=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!V&&A.key.length===1&&be(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let z=L().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(A.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const q=A.target,H=z.indexOf(q);z=z.slice(H+1)}setTimeout(()=>D(z)),A.preventDefault()}})})})})})})});$i.displayName=Rc;var Oc="SelectItemAlignedPosition",Li=g.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:s,...n}=r,i=Ke(nt,t),o=Ge(nt,t),[l,c]=g.useState(null),[d,u]=g.useState(null),h=ue(e,k=>u(k)),m=br(t),p=g.useRef(!1),y=g.useRef(!0),{viewport:f,selectedItem:v,selectedItemText:_,focusSelectedItem:S}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&f&&v&&_){const k=i.trigger.getBoundingClientRect(),O=d.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),$=_.getBoundingClientRect();if(i.dir!=="rtl"){const q=$.left-O.left,H=j.left-q,ae=k.left-H,x=k.width+ae,T=Math.max(x,O.width),P=window.innerWidth-_e,K=Ms(H,[_e,Math.max(_e,P-T)]);l.style.minWidth=x+"px",l.style.left=K+"px"}else{const q=O.right-$.right,H=window.innerWidth-j.right-q,ae=window.innerWidth-k.right-H,x=k.width+ae,T=Math.max(x,O.width),P=window.innerWidth-_e,K=Ms(H,[_e,Math.max(_e,P-T)]);l.style.minWidth=x+"px",l.style.right=K+"px"}const w=m(),L=window.innerHeight-_e*2,F=f.scrollHeight,M=window.getComputedStyle(d),J=parseInt(M.borderTopWidth,10),D=parseInt(M.paddingTop,10),B=parseInt(M.borderBottomWidth,10),R=parseInt(M.paddingBottom,10),W=J+D+F+R+B,oe=Math.min(v.offsetHeight*5,W),be=window.getComputedStyle(f),Ye=parseInt(be.paddingTop,10),Oe=parseInt(be.paddingBottom,10),pe=k.top+k.height/2-_e,Me=L-pe,Ie=v.offsetHeight/2,A=v.offsetTop+Ie,V=J+D+A,Q=W-V;if(V<=pe){const q=w.length>0&&v===w[w.length-1].ref.current;l.style.bottom="0px";const H=d.clientHeight-f.offsetTop-f.offsetHeight,ae=Math.max(Me,Ie+(q?Oe:0)+H+B),x=V+ae;l.style.height=x+"px"}else{const q=w.length>0&&v===w[0].ref.current;l.style.top="0px";const ae=Math.max(pe,J+f.offsetTop+(q?Ye:0)+Ie)+Q;l.style.height=ae+"px",f.scrollTop=V-pe+f.offsetTop}l.style.margin=`${_e}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=L+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,f,v,_,i.dir,s]);ve(()=>b(),[b]);const[E,N]=g.useState();ve(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const C=g.useCallback(k=>{k&&y.current===!0&&(b(),S==null||S(),y.current=!1)},[b,S]);return a.jsx($c,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(X.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Li.displayName=Oc;var Ic="SelectPopperPosition",Yr=g.forwardRef((r,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:n=_e,...i}=r,o=wr(t);return a.jsx(Rl,{...o,...i,ref:e,align:s,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yr.displayName=Ic;var[$c,ks]=Nt(nt,{}),Xr="SelectViewport",Ui=g.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:s,...n}=r,i=Ge(Xr,t),o=ks(Xr,t),l=ue(e,i.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(yr.Slot,{scope:t,children:a.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ee(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const y=window.innerHeight-_e*2,f=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),_=Math.max(f,v);if(_<y){const S=_+p,b=Math.min(y,S),E=S-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Ui.displayName=Xr;var Di="SelectGroup",[Lc,Uc]=Nt(Di),Dc=g.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,n=ms();return a.jsx(Lc,{scope:t,id:n,children:a.jsx(X.div,{role:"group","aria-labelledby":n,...s,ref:e})})});Dc.displayName=Di;var Mi="SelectLabel",Mc=g.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,n=Uc(Mi,t);return a.jsx(X.div,{id:n.id,...s,ref:e})});Mc.displayName=Mi;var ur="SelectItem",[qc,qi]=Nt(ur),Fi=g.forwardRef((r,e)=>{const{__scopeSelect:t,value:s,disabled:n=!1,textValue:i,...o}=r,l=Ke(ur,t),c=Ge(ur,t),d=l.value===s,[u,h]=g.useState(i??""),[m,p]=g.useState(!1),y=ue(e,S=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,S,s,n)}),f=ms(),v=g.useRef("touch"),_=()=>{n||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(qc,{scope:t,value:s,disabled:n,textId:f,isSelected:d,onItemTextChange:g.useCallback(S=>{h(b=>b||((S==null?void 0:S.textContent)??"").trim())},[]),children:a.jsx(yr.ItemSlot,{scope:t,value:s,disabled:n,textValue:u,children:a.jsx(X.div,{role:"option","aria-labelledby":f,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:y,onFocus:ee(o.onFocus,()=>p(!0)),onBlur:ee(o.onBlur,()=>p(!1)),onClick:ee(o.onClick,()=>{v.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{v.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,S=>{v.current=S.pointerType}),onPointerMove:ee(o.onPointerMove,S=>{var b;v.current=S.pointerType,n?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,S=>{var b;S.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ee(o.onKeyDown,S=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&S.key===" "||(jc.includes(S.key)&&_(),S.key===" "&&S.preventDefault())})})})})});Fi.displayName=ur;var Ot="SelectItemText",Bi=g.forwardRef((r,e)=>{const{__scopeSelect:t,className:s,style:n,...i}=r,o=Ke(Ot,t),l=Ge(Ot,t),c=qi(Ot,t),d=Tc(Ot,t),[u,h]=g.useState(null),m=ue(e,_=>h(_),c.onItemTextChange,_=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,_,c.value,c.disabled)}),p=u==null?void 0:u.textContent,y=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:f,onNativeOptionRemove:v}=d;return ve(()=>(f(y),()=>v(y)),[f,v,y]),a.jsxs(a.Fragment,{children:[a.jsx(X.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fs.createPortal(i.children,o.valueNode):null]})});Bi.displayName=Ot;var Vi="SelectItemIndicator",Hi=g.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return qi(Vi,t).isSelected?a.jsx(X.span,{"aria-hidden":!0,...s,ref:e}):null});Hi.displayName=Vi;var Qr="SelectScrollUpButton",zi=g.forwardRef((r,e)=>{const t=Ge(Qr,r.__scopeSelect),s=ks(Qr,r.__scopeSelect),[n,i]=g.useState(!1),o=ue(e,s.onScrollButtonChange);return ve(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?a.jsx(Ki,{...r,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zi.displayName=Qr;var Zr="SelectScrollDownButton",Wi=g.forwardRef((r,e)=>{const t=Ge(Zr,r.__scopeSelect),s=ks(Zr,r.__scopeSelect),[n,i]=g.useState(!1),o=ue(e,s.onScrollButtonChange);return ve(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?a.jsx(Ki,{...r,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Wi.displayName=Zr;var Ki=g.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:s,...n}=r,i=Ge("SelectScrollButton",t),o=g.useRef(null),l=br(t),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),ve(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(X.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:ee(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ee(n.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ee(n.onPointerLeave,()=>{c()})})}),Fc="SelectSeparator",Bc=g.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r;return a.jsx(X.div,{"aria-hidden":!0,...s,ref:e})});Bc.displayName=Fc;var es="SelectArrow",Vc=g.forwardRef((r,e)=>{const{__scopeSelect:t,...s}=r,n=wr(t),i=Ke(es,t),o=Ge(es,t);return i.open&&o.position==="popper"?a.jsx(Al,{...n,...s,ref:e}):null});Vc.displayName=es;var Hc="SelectBubbleInput",Gi=g.forwardRef(({__scopeSelect:r,value:e,...t},s)=>{const n=g.useRef(null),i=ue(s,n),o=Il(e);return g.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),a.jsx(X.select,{...t,style:{...gi,...t.style},ref:i,defaultValue:e})});Gi.displayName=Hc;function Ji(r){return r===""||r===void 0}function Yi(r){const e=tt(r),t=g.useRef(""),s=g.useRef(0),n=g.useCallback(o=>{const l=t.current+o;e(l),(function c(d){t.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=g.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,n,i]}function Xi(r,e,t){const n=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=t?r.indexOf(t):-1;let o=zc(r,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==t));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==t?c:void 0}function zc(r,e){return r.map((t,s)=>r[(e+s)%r.length])}var Wc=ki,Kc=Ti,Gc=Pi,Jc=Ri,Yc=Ai,Xc=Oi,Qc=Ui,Zc=Fi,ed=Bi,td=Hi,rd=zi,sd=Wi;function Or({...r}){return a.jsx(Wc,{"data-slot":"select",...r})}function Ir({...r}){return a.jsx(Gc,{"data-slot":"select-value",...r})}function $r({className:r,size:e="default",children:t,...s}){return a.jsxs(Kc,{"data-slot":"select-trigger","data-size":e,className:me("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s,children:[t,a.jsx(Jc,{asChild:!0,children:a.jsx(Ln,{className:"size-4 opacity-50"})})]})}function Lr({className:r,children:e,position:t="popper",...s}){return a.jsx(Yc,{children:a.jsxs(Xc,{"data-slot":"select-content",className:me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...s,children:[a.jsx(nd,{}),a.jsx(Qc,{className:me("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),a.jsx(id,{})]})})}function Ur({className:r,children:e,...t}){return a.jsxs(Zc,{"data-slot":"select-item",className:me("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(td,{children:a.jsx(de,{className:"size-4"})})}),a.jsx(ed,{children:e})]})}function nd({className:r,...e}){return a.jsx(rd,{"data-slot":"select-scroll-up-button",className:me("flex cursor-default items-center justify-center py-1",r),...e,children:a.jsx(Ro,{className:"size-4"})})}function id({className:r,...e}){return a.jsx(sd,{"data-slot":"select-scroll-down-button",className:me("flex cursor-default items-center justify-center py-1",r),...e,children:a.jsx(Ln,{className:"size-4"})})}const od=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ft(async()=>{const{default:s}=await Promise.resolve().then(()=>Tt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Ns extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class ad extends Ns{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cn extends Ns{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dn extends Ns{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ts;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ts||(ts={}));var ld=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(r,e||[])).next())})};class cd{constructor(e,{headers:t={},customFetch:s,region:n=ts.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=od(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return ld(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=t;let l={},{region:c}=t;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:u}).catch(f=>{throw new ad(f)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new cn(h);if(!h.ok)throw new dn(h);let p=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield h.json():p==="application/octet-stream"?y=yield h.blob():p==="text/event-stream"?y=h:p==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof dn||n instanceof cn?n.context:void 0}}})}}var ie={},ct={},dt={},ut={},ht={},ft={},dd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jt=dd();const ud=jt.fetch,Qi=jt.fetch.bind(jt),Zi=jt.Headers,hd=jt.Request,fd=jt.Response,Tt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zi,Request:hd,Response:fd,default:Qi,fetch:ud},Symbol.toStringTag,{value:"Module"})),md=wo(Tt);var Xt={},un;function eo(){if(un)return Xt;un=1,Object.defineProperty(Xt,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Xt.default=r,Xt}var hn;function to(){if(hn)return ft;hn=1;var r=ft&&ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ft,"__esModule",{value:!0});const e=r(md),t=r(eo());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var u,h,m;let p=null,y=null,f=null,v=d.status,_=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=N:y=JSON.parse(N))}const b=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),E=(h=d.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&E&&E.length>1&&(f=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,f=null,v=406,_="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const b=await d.text();try{p=JSON.parse(b),Array.isArray(p)&&d.status===404&&(y=[],p=null,v=200,_="OK")}catch{d.status===404&&b===""?(v=204,_="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,v=200,_="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:y,count:f,status:v,statusText:_}});return this.shouldThrowOnError||(c=c.catch(d=>{var u,h,m;return{error:{message:`${(u=d==null?void 0:d.name)!==null&&u!==void 0?u:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(h=d==null?void 0:d.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=d==null?void 0:d.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return ft.default=s,ft}var fn;function ro(){if(fn)return ht;fn=1;var r=ht&&ht.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ht,"__esModule",{value:!0});const e=r(to());class t extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(d,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${m}"; options=${h};`,d==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ht.default=t,ht}var mn;function Ts(){if(mn)return ut;mn=1;var r=ut&&ut.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ut,"__esModule",{value:!0});const e=r(ro());class t extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${c}fts${d}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ut.default=t,ut}var pn;function so(){if(pn)return dt;pn=1;var r=dt&&dt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(dt,"__esModule",{value:!0});const e=r(Ts());class t{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=i,this.schema=o,this.fetch=l}select(n,{head:i=!1,count:o}={}){const l=i?"HEAD":"GET";let c=!1;const d=(n??"*").split("").map(u=>/\s/.test(u)&&!c?"":(u==='"'&&(c=!c),u)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const d=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const d="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),l&&u.push(`count=${l}`),c||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const h=n.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return dt.default=t,dt}var Rt={},At={},gn;function pd(){return gn||(gn=1,Object.defineProperty(At,"__esModule",{value:!0}),At.version=void 0,At.version="0.0.0-automated"),At}var vn;function gd(){if(vn)return Rt;vn=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.DEFAULT_HEADERS=void 0;const r=pd();return Rt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Rt}var yn;function vd(){if(yn)return ct;yn=1;var r=ct&&ct.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ct,"__esModule",{value:!0});const e=r(so()),t=r(Ts()),s=gd();class n{constructor(o,{headers:l={},schema:c,fetch:d}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:d=!1,count:u}={}){let h;const m=new URL(`${this.url}/rpc/${o}`);let p;c||d?(h=c?"HEAD":"GET",Object.entries(l).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{m.searchParams.append(f,v)})):(h="POST",p=l);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new t.default({method:h,url:m,headers:y,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return ct.default=n,ct}var bn;function yd(){if(bn)return ie;bn=1;var r=ie&&ie.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.PostgrestError=ie.PostgrestBuilder=ie.PostgrestTransformBuilder=ie.PostgrestFilterBuilder=ie.PostgrestQueryBuilder=ie.PostgrestClient=void 0;const e=r(vd());ie.PostgrestClient=e.default;const t=r(so());ie.PostgrestQueryBuilder=t.default;const s=r(Ts());ie.PostgrestFilterBuilder=s.default;const n=r(ro());ie.PostgrestTransformBuilder=n.default;const i=r(to());ie.PostgrestBuilder=i.default;const o=r(eo());return ie.PostgrestError=o.default,ie.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ie}var bd=yd();const wd=xo(bd),{PostgrestClient:xd,PostgrestQueryBuilder:kh,PostgrestFilterBuilder:Nh,PostgrestTransformBuilder:Th,PostgrestBuilder:Ch,PostgrestError:Ph}=wd;class _d{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Sd="2.15.1",jd=`realtime-js/${Sd}`,Ed="1.0.0",rs=1e4,kd=1e3,Nd=100;var $t;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})($t||($t={}));var re;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(re||(re={}));var Se;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Se||(Se={}));var ss;(function(r){r.websocket="websocket"})(ss||(ss={}));var et;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(et||(et={}));class Td{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(e.slice(o,o+n));o=o+n;const c=s.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class no{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(G||(G={}));const wn=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=Cd(o,r,e,n),i),{})},Cd=(r,e,t,s)=>{const n=e.find(l=>l.name===r),i=n==null?void 0:n.type,o=t[r];return i&&!s.includes(i)?io(i,o):ns(o)},io=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Od(e,t)}switch(r){case G.bool:return Pd(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return Rd(e);case G.json:case G.jsonb:return Ad(e);case G.timestamp:return Id(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return ns(e);default:return ns(e)}},ns=r=>r,Pd=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Rd=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Ad=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Od=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const o=r.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>io(e,l))}return r},Id=r=>typeof r=="string"?r.replace(" ","T"):r,oo=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Dr{constructor(e,t,s={},n=rs){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xn;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(xn||(xn={}));class Lt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lt.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=Lt.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Lt.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),o=this.transformState(t),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),y=u.filter(v=>p.indexOf(v.presence_ref)<0),f=h.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[d]=y),f.length>0&&(c[d]=f)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...m)}s(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,n(l,d,c),d.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _n;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(_n||(_n={}));var Ut;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ut||(Ut={}));var Le;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Le||(Le={}));class Cs{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Dr(this,Se.join,this.params,this.timeout),this.rejoinTimer=new no(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Se.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Lt(this),this.broadcastEndpointURL=oo(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.state==re.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(m=>m.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[Ut.PRESENCE]&&this.bindings[Ut.PRESENCE].length>0,u={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Le.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Le.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){e==null||e(Le.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,f=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,v=[];for(let _=0;_<f;_++){const S=y[_],{filter:{event:b,schema:E,table:N,filter:C}}=S,k=m&&m[_];if(k&&k.event===b&&k.schema===E&&k.table===N&&k.filter===C)v.push(Object.assign(Object.assign({},S),{id:k.id}));else{this.unsubscribe(),this.state=re.errored,e==null||e(Le.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Le.SUBSCRIBED);return}}).receive("error",m=>{this.state=re.errored,e==null||e(Le.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Le.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===re.joined&&e===Ut.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=re.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Se.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Dr(this,Se.leave,{},e),s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=re.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Dr(this,e,t,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Nd){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Se;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,t,s);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var y,f,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(f=p.filter)===null||f===void 0?void 0:f.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,f,v,_,S,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const E=p.id,N=(y=p.filter)===null||y===void 0?void 0:y.event;return E&&((f=t.ids)===null||f===void 0?void 0:f.includes(E))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(S=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((b=t==null?void 0:t.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:f,table:v,commit_timestamp:_,type:S,errors:b}=y;m=Object.assign(Object.assign({},{schema:f,table:v,commit_timestamp:_,eventType:S,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(m,s)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Cs.isEqual(n.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Se.close,{},e)}_onError(e){this._on(Se.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=wn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=wn(e.columns,e.old_record)),t}}const Sn=()=>{},Qt={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$d=[1e3,2e3,5e3,1e4],Ld=1e4,Ud=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dd{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rs,this.transport=null,this.heartbeatIntervalMs=Qt.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sn,this.ref=0,this.reconnectTimer=null,this.logger=Sn,this.conn=null,this.sendBuffer=[],this.serializer=new Td,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>Ft(async()=>{const{default:l}=await Promise.resolve().then(()=>Tt);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=t==null?void 0:t.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ss.websocket}`,this.httpEndpoint=oo(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_d.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ed}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case $t.connecting:return et.Connecting;case $t.open:return et.Open;case $t.closing:return et.Closing;default:return et.Closed}}isConnected(){return this.connectionState()===et.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new Cs(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kd,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Qt.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:o}=t,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${n} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(n,i,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Se.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Ud],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const n={access_token:t,version:jd};t&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(Se.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new no(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qt.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,n,i,o,l,c,d;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:rs,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Qt.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:(u=>$d[u-1]||Ld),this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:((u,h)=>h(JSON.stringify(u))),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ps extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Md extends Ps{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class is extends Ps{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var qd=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(r,e||[])).next())})};const ao=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ft(async()=>{const{default:s}=await Promise.resolve().then(()=>Tt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Fd=()=>qd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ft(()=>Promise.resolve().then(()=>Tt),void 0)).Response:Response}),os=r=>{if(Array.isArray(r))return r.map(t=>os(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=os(s)}),e},Bd=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var it=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(r,e||[])).next())})};const Mr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Vd=(r,e,t)=>it(void 0,void 0,void 0,function*(){const s=yield Fd();r instanceof s&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{const i=r.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new Md(Mr(n),i,o))}).catch(n=>{e(new is(Mr(n),n))}):e(new is(Mr(r),r))}),Hd=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!s?n:(Bd(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),t))};function Vt(r,e,t,s,n,i){return it(this,void 0,void 0,function*(){return new Promise((o,l)=>{r(t,Hd(e,s,n,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Vd(c,l,s))})})}function hr(r,e,t,s){return it(this,void 0,void 0,function*(){return Vt(r,"GET",e,t,s)})}function Ne(r,e,t,s,n){return it(this,void 0,void 0,function*(){return Vt(r,"POST",e,s,n,t)})}function as(r,e,t,s,n){return it(this,void 0,void 0,function*(){return Vt(r,"PUT",e,s,n,t)})}function zd(r,e,t,s){return it(this,void 0,void 0,function*(){return Vt(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function lo(r,e,t,s,n){return it(this,void 0,void 0,function*(){return Vt(r,"DELETE",e,s,n,t)})}var ce=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(r,e||[])).next())})};const Wd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kd{constructor(e,t={},s,n){this.url=e,this.headers=t,this.bucketId=s,this.fetch=ao(n)}uploadOrUpdate(e,t,s,n){return ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},jn),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(t),u=this._getFinalPath(d),h=yield(e=="PUT"?as:Ne)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}})}upload(e,t,s){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=Object.assign({upsert:jn.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield as(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield Ne(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ps("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}update(e,t,s){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return ce(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}copy(e,t,s){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Ne(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Ne(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return ce(this,void 0,void 0,function*(){try{const n=yield Ne(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}download(e,t){return ce(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield hr(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}})}info(e){return ce(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield hr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:os(s),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}exists(e){return ce(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield zd(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(se(s)&&s instanceof is){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(e){return ce(this,void 0,void 0,function*(){try{return{data:yield lo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}list(e,t,s){return ce(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Wd),t),{prefix:e||""});return{data:yield Ne(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}listV2(e,t){return ce(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Ne(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Gd="2.11.0",Jd={"X-Client-Info":`storage-js/${Gd}`};var mt=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(r,e||[])).next())})};class Yd{constructor(e,t={},s,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Jd),t),this.fetch=ao(s)}listBuckets(){return mt(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return mt(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return mt(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}emptyBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}deleteBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield lo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(se(t))return{data:null,error:t};throw t}})}}class Xd extends Yd{constructor(e,t={},s,n){super(e,t,s,n)}from(e){return new Kd(this.url,this.headers,e,this.fetch)}}const Qd="2.55.0";let It="";typeof Deno<"u"?It="deno":typeof document<"u"?It="web":typeof navigator<"u"&&navigator.product==="ReactNative"?It="react-native":It="node";const Zd={"X-Client-Info":`supabase-js-${It}/${Qd}`},eu={headers:Zd},tu={schema:"public"},ru={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},su={};var nu=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(r,e||[])).next())})};const iu=r=>{let e;return r?e=r:typeof fetch>"u"?e=Qi:e=fetch,(...t)=>e(...t)},ou=()=>typeof Headers>"u"?Zi:Headers,au=(r,e,t)=>{const s=iu(t),n=ou();return(i,o)=>nu(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:r;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var lu=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(r,e||[])).next())})};function cu(r){return r.endsWith("/")?r:r+"/"}function du(r,e){var t,s;const{db:n,auth:i,realtime:o,global:l}=r,{db:c,auth:d,realtime:u,global:h}=e,m={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(t=h==null?void 0:h.headers)!==null&&t!==void 0?t:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>lu(this,void 0,void 0,function*(){return""})};return r.accessToken?m.accessToken=r.accessToken:delete m.accessToken,m}const co="2.71.1",bt=30*1e3,ls=3,qr=ls*bt,uu="http://localhost:9999",hu="supabase.auth.token",fu={"X-Client-Info":`gotrue-js/${co}`},cs="X-Supabase-Api-Version",uo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pu=600*1e3;class Rs extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function I(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class gu extends Rs{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function vu(r){return I(r)&&r.name==="AuthApiError"}class ho extends Rs{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Je extends Rs{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class Be extends Je{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yu(r){return I(r)&&r.name==="AuthSessionMissingError"}class Zt extends Je{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class er extends Je{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tr extends Je{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bu(r){return I(r)&&r.name==="AuthImplicitGrantRedirectError"}class En extends Je{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ds extends Je{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Fr(r){return I(r)&&r.name==="AuthRetryableFetchError"}class kn extends Je{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class us extends Je{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nn=` 	
\r=`.split(""),wu=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Nn.length;e+=1)r[Nn[e].charCodeAt(0)]=-2;for(let e=0;e<fr.length;e+=1)r[fr[e].charCodeAt(0)]=e;return r})();function Tn(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(fr[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(fr[s]),e.queuedBits-=6}}function fo(r,e,t){const s=wu[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Cn(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Su(o,s,t)};for(let o=0;o<r.length;o+=1)fo(r.charCodeAt(o),n,i);return e.join("")}function xu(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function _u(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}xu(s,e)}}function Su(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ju(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)fo(r.charCodeAt(n),t,s);return new Uint8Array(e)}function Eu(r){const e=[];return _u(r,t=>e.push(t)),new Uint8Array(e)}function ku(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};return r.forEach(n=>Tn(n,t,s)),Tn(null,t,s),e.join("")}function Nu(r){return Math.round(Date.now()/1e3)+r}function Tu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const xe=()=>typeof window<"u"&&typeof document<"u",Xe={tested:!1,writable:!1},mo=()=>{if(!xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xe.tested)return Xe.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Xe.tested=!0,Xe.writable=!0}catch{Xe.tested=!0,Xe.writable=!1}return Xe.writable};function Cu(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const po=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ft(async()=>{const{default:s}=await Promise.resolve().then(()=>Tt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Pu=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",wt=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Qe=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},qe=async(r,e)=>{await r.removeItem(e)};class xr{constructor(){this.promise=new xr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}xr.promiseConstructor=Promise;function Br(r){const e=r.split(".");if(e.length!==3)throw new us("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!mu.test(e[s]))throw new us("JWT not in base64url format");return{header:JSON.parse(Cn(e[0])),payload:JSON.parse(Cn(e[1])),signature:ju(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ru(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Au(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Ou(r){return("0"+r.toString(16)).substr(-2)}function Iu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Ou).join("")}async function $u(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Lu(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await $u(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pt(r,e,t=!1){const s=Iu();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await wt(r,`${e}-code-verifier`,n);const i=await Lu(s);return[i,s===i?"plain":"s256"]}const Uu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Du(r){const e=r.headers.get(cs);if(!e||!e.match(Uu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Mu(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function qu(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gt(r){if(!Fu.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vr(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pn(r){return JSON.parse(JSON.stringify(r))}var Bu=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const Ze=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Vu=[502,503,504];async function Rn(r){var e;if(!Pu(r))throw new ds(Ze(r),0);if(Vu.includes(r.status))throw new ds(Ze(r),r.status);let t;try{t=await r.json()}catch(i){throw new ho(Ze(i),i)}let s;const n=Du(r);if(n&&n.getTime()>=uo["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new kn(Ze(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Be}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new kn(Ze(t),r.status,t.weak_password.reasons);throw new gu(Ze(t),r.status||500,s)}const Hu=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function U(r,e,t,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[cs]||(i[cs]=uo["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await zu(r,e,t+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function zu(r,e,t,s,n,i){const o=Hu(e,s,n,i);let l;try{l=await r(t,Object.assign({},o))}catch(c){throw console.error(c),new ds(Ze(c),0)}if(l.ok||await Rn(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await Rn(c)}}function $e(r){var e;let t=null;Ju(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Nu(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function An(r){const e=$e(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ve(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Wu(r){return{data:r,error:null}}function Ku(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,o=Bu(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Gu(r){return r}function Ju(r){return r.access_token&&r.refresh_token&&r.expires_in}const Hr=["global","local","others"];var Yu=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class Xu{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=po(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Hr[0]){if(Hr.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hr.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ve})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Yu(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Ku,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(I(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ve})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Gu});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const f=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=f}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(I(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){gt(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ve})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){gt(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ve})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){gt(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ve})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){gt(e.userId);try{const{data:t,error:s}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(I(t))return{data:null,error:t};throw t}}async _deleteFactor(e){gt(e.userId),gt(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}}}function On(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Qu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vt={debug:!!(globalThis&&mo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class go extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zu extends go{}async function eh(r,e,t){vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),vt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Zu(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(vt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Qu();const th={url:uu,storageKey:hu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function In(r,e,t){return await t()}const yt={};class qt{constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qt.nextInstanceID,qt.nextInstanceID+=1,this.instanceID>0&&xe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},th),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Xu({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=po(n.fetch),this.lock=n.lock||In,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:xe()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=eh:this.lock=In,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:mo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=On(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=On(this.memoryStorage)),xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=yt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){yt[this.storageKey]=Object.assign(Object.assign({},yt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=yt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yt[this.storageKey]=Object.assign(Object.assign({},yt[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${co}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Cu(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),xe()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bu(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return I(t)?{error:t}:{error:new ho("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:$e}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{let i;if("email"in e){const{email:u,password:h,options:m}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await pt(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(t=m==null?void 0:m.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},xform:$e})}else if("phone"in e){const{phone:u,password:h,options:m}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(n=m==null?void 0:m.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:$e})}else throw new er("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:l}=e;t=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:An})}else if("phone"in e){const{phone:i,password:o,options:l}=e;t=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:An})}else throw new er("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Zt}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,n,i,o,l,c,d,u,h,m,p;let y,f;if("message"in e)y=e.message,f=e.signature;else{const{chain:v,wallet:_,statement:S,options:b}=e;let E;if(xe())if(typeof _=="object")E=_;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const N=new URL((t=b==null?void 0:b.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),S?{statement:S}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),f=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(n=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=C}}try{const{data:v,error:_}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ku(f)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$e});if(_)throw _;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Zt}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:_})}catch(v){if(I(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const t=await Qe(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:$e});if(await qe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zt}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:i,nonce:o}=e,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:$e}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zt}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await pt(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new er("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,s;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:$e});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pt(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Wu})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Be;const{error:n}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await U(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:l}=await U(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new er("You must provide either an email or phone number and a type")}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Qe(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<qr:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Qe(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Vr()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ve}):await this._useSession(async t=>{var s,n,i;const{data:o,error:l}=t;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Be}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ve})})}catch(t){if(I(t))return yu(t)&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Be;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await pt(this.storage,this.storageKey));const{data:d,error:u}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ve});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Be;const t=Date.now()/1e3;let s=t,n=!0,i=null;const{payload:o}=Br(e.access_token);if(o.exp&&(s=o.exp,n=s<=t),n){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(I(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Be;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!xe())throw new tr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new En("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new En("No code detected.");const{data:S,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new tr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const p=m-u;p*1e3<=bt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=m-h;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,u);const{data:f,error:v}=await this._getUser(i);if(v)throw v;const _={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(s){if(I(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Qe(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(vu(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Tu(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await pt(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return xe()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(I(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Au(async n=>(n>0&&await Ru(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$e})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Fr(i)&&Date.now()+o-s<bt})}catch(s){if(this._debug(t,"error",s),I(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),xe()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Qe(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Qe(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await wt(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Vr()}else if(n&&!n.user&&!n.user){const o=await Qe(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await qe(this.storage,this.storageKey+"-user"),await wt(this.storage,this.storageKey,n)):n.user=Vr()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qr;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${qr}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Fr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new xr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Be;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),I(i)){const o={session:null,error:i};return Fr(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await wt(this.userStorage,this.storageKey+"-user",{user:t.user});const n=Object.assign({},t);delete n.user;const i=Pn(n);await wt(this.storage,this.storageKey,i)}else{const n=Pn(t);await wt(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await qe(this.storage,this.storageKey),await qe(this.storage,this.storageKey+"-code-verifier"),await qe(this.storage,this.storageKey+"-user"),this.userStorage&&await qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/bt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${bt}ms, refresh threshold is ${ls} ticks`),n<=ls&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof go)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await pt(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(t){if(I(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(I(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Br(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(l=>l.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+pu>n)return s;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(l=>l.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};s=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:c}}=Br(s);t!=null&&t.allowExpired||Mu(i.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const u=qu(n.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Eu(`${l}.${c}`)))throw new us("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}}qt.nextInstanceID=0;const rh=qt;class sh extends rh{constructor(e){super(e)}}var nh=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((s=s.apply(r,e||[])).next())})};class ih{constructor(e,t,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=cu(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:tu,realtime:su,auth:Object.assign(Object.assign({},ru),{storageKey:d}),global:eu},h=du(s??{},u);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=au(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new xd(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Xd(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new cd(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return nh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sh({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Dd(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oh=(r,e,t)=>new ih(r,e,t);function ah(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ah()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lh="https://mrcwryrygoopvaksvenv.supabase.co",ch="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1yY3dyeXJ5Z29vcHZha3N2ZW52Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyNzE5MzgsImV4cCI6MjA3MDg0NzkzOH0.j4Apd0CeL8o_AQsY4U3gzIcZqBv9RzbVJYEIG8gHSaQ",We=oh(lh,ch);function $n(r){try{console.log(" Starting download process...",{registrationData:r});const e=`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>HackVibe 2025 Registration Confirmation</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f9f9f9;
        }
        .header {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .section h3 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .member {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: #e9ecef;
            border-radius: 10px;
        }
        .important {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #28a745;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1> HACKVIBE 2025 - REGISTRATION CONFIRMATION</h1>
        <p>Your registration has been successfully completed!</p>
    </div>



    <div class="section">
        <h3> TEAM INFORMATION</h3>
        <p><strong>Team Name:</strong> ${r.team_name}</p>
        <p><strong>College:</strong> ${r.college_name}</p>
    </div>

    <div class="section">
        <h3> TEAM MEMBERS</h3>
        
        <div class="member">
            <h4> Team Leader</h4>
            <p><strong>Name:</strong> ${r.leader_name}</p>
            <p><strong>Email:</strong> ${r.leader_email}</p>
            <p><strong>Phone:</strong> ${r.leader_phone}</p>
            <p><strong>T-Shirt Size:</strong> ${r.leader_tshirt_size}</p>
        </div>

        <div class="member">
            <h4> Member 2</h4>
            <p><strong>Name:</strong> ${r.member2_name}</p>
            <p><strong>Email:</strong> ${r.member2_email}</p>
            <p><strong>Phone:</strong> ${r.member2_phone}</p>
            <p><strong>T-Shirt Size:</strong> ${r.member2_tshirt_size}</p>
        </div>

        <div class="member">
            <h4> Member 3</h4>
            <p><strong>Name:</strong> ${r.member3_name}</p>
            <p><strong>Email:</strong> ${r.member3_email}</p>
            <p><strong>Phone:</strong> ${r.member3_phone}</p>
            <p><strong>T-Shirt Size:</strong> ${r.member3_tshirt_size}</p>
        </div>
    </div>

    <div class="section">
        <h3> PAYMENT DETAILS</h3>
        <p><strong>UTR Number:</strong> ${r.utr_number}</p>
        <p><strong>Account Holder:</strong> ${r.account_holder_name}</p>
        <p><strong>Amount:</strong> 600</p>
        <p><strong>Payment Status:</strong>  Confirmed</p>
    </div>

    ${r.project_idea?`
    <div class="section">
        <h3> PROJECT IDEA</h3>
        <p>${r.project_idea}</p>
    </div>
    `:""}

    <div class="important">
        <h3> IMPORTANT REMINDERS</h3>
        <ul>
            <li> Bring a valid ID proof to the event</li>
            <li> <strong>Event Date:</strong> September 11th, 2025</li>
            <li> <strong>Venue:</strong> Vignan Institute of Technology and Science</li>
            <li> <strong>Registration Fee:</strong> 600 (already paid)</li>
        </ul>
    </div>

    <div class="footer">
        <p> Thank you for registering for HackVibe 2025!</p>
        <p>For any queries, contact the organizing team.</p>
        <p><small>Generated on: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</small></p>
    </div>
</body>
</html>`;console.log(" HTML content generated, creating blob...");const t=new Blob([e],{type:"text/html;charset=utf-8"}),s=URL.createObjectURL(t);console.log(" URL created:",s);const n=document.createElement("a");n.href=s,n.download=`HackVibe_Registration_${r.team_name.replace(/[^a-zA-Z0-9]/g,"_")}.html`,n.style.display="none",console.log(" Download filename:",n.download),document.body.appendChild(n),n.click(),console.log(" Download triggered"),setTimeout(()=>{document.body.removeChild(n),URL.revokeObjectURL(s),console.log(" Cleanup completed")},100)}catch(e){console.error(" Download failed:",e),alert("Download failed. Please try again or contact support.")}}function dh(){return Math.floor(1e5+Math.random()*9e5).toString()}async function uh(r,e,t){try{try{console.log(" Calling Edge Function: swift-task"),console.log(" Request data:",{email:r,teamName:e,verificationToken:t});const{data:n,error:i}=await We.functions.invoke("swift-task",{body:{email:r,teamName:e,verificationToken:t}});if(console.log(" Edge Function response:",{data:n,error:i}),i)throw console.error(" Edge Function error:",i),i;if(n!=null&&n.success)return console.log(" OTP email sent successfully via Edge Function!"),{success:!0};throw console.error(" Edge Function returned failure:",n),new Error(`Edge Function returned: ${(n==null?void 0:n.error)||"Unknown failure"}`)}catch(n){console.error(" Edge Function failed:",n),console.log(" Falling back to manual verification...");const i={email:r,teamName:e,token:t,timestamp:new Date().toISOString()};return localStorage.setItem("pendingVerification",JSON.stringify(i)),console.log("=== OTP VERIFICATION DETAILS ==="),console.log("Email:",r),console.log("Team Name:",e),console.log("OTP Code:",t),console.log("Manual Verification: Enter the 6-digit OTP code above in the registration page"),console.log("====================================="),{success:!0}}if(typeof window<"u"&&window.emailjs)try{const n={to_email:r,team_name:e,verification_token:t};return await window.emailjs.send("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",n,"YOUR_USER_ID"),{success:!0}}catch{console.log("EmailJS failed, using manual verification")}const s={email:r,teamName:e,token:t,timestamp:new Date().toISOString()};return localStorage.setItem("pendingVerification",JSON.stringify(s)),console.log("=== OTP VERIFICATION DETAILS ==="),console.log("Manual Verification: Enter the 6-digit OTP code below in the registration page"),console.log("Email:",r),console.log("Team Name:",e),console.log("OTP Code:",t),console.log("====================================="),{success:!0}}catch(s){return console.error("Error sending OTP email:",s),{success:!1,error:"Failed to send OTP email"}}}async function hh(r,e){try{return r===e?{success:!0,data:{verified:!0,message:"OTP verification successful"}}:{success:!1,error:"Invalid OTP code. Please check and try again."}}catch(t){return console.error("OTP verification error:",t),{success:!1,error:"OTP verification failed"}}}async function ir(r,e){const{data:t,error:s}=await We.from("registrations").select("id").eq(r,e).limit(1);return s?(console.error("Duplicate check error:",s),{exists:!1,error:s.message}):{exists:t&&t.length>0,error:null}}async function fh(r,e){if(!e||e.trim()==="")return{isUnique:!0};try{const t=await ir(r,e);return t.error?{isUnique:!1,error:t.error}:{isUnique:!t.exists}}catch(t){return console.error("Validation error:",t),{isUnique:!1,error:"Validation failed. Please try again."}}}async function mh(r){return fh("utr_number",r)}async function ph(r){if(!r||r.trim()==="")return{isUnique:!0};try{const{data:e,error:t}=await We.from("registrations").select("id").or(`leader_email.eq.${r},member2_email.eq.${r},member3_email.eq.${r}`).limit(1);return t?(console.error("Email validation error:",t),{isUnique:!1,error:t.message}):{isUnique:!(e&&e.length>0)}}catch(e){return console.error("Email validation error:",e),{isUnique:!1,error:"Email validation failed. Please try again."}}}async function gh(r){if(!r||r.trim()==="")return{isUnique:!0};try{const{data:e,error:t}=await We.from("registrations").select("id").or(`leader_phone.eq.${r},member2_phone.eq.${r},member3_phone.eq.${r}`).limit(1);return t?(console.error("Phone validation error:",t),{isUnique:!1,error:t.message}):{isUnique:!(e&&e.length>0)}}catch(e){return console.error("Phone validation error:",e),{isUnique:!1,error:"Phone validation failed. Please try again."}}}async function vh(r){if(!r||r.trim()==="")return{isUnique:!0};try{const{data:e,error:t}=await We.from("registrations").select("id").ilike("team_name",r).limit(1);return t?(console.error("Team name validation error:",t),{isUnique:!1,error:t.message}):{isUnique:!(e&&e.length>0)}}catch(e){return console.error("Team name validation error:",e),{isUnique:!1,error:"Team name validation failed. Please try again."}}}async function yh(r,e){const t=new Date().getTime(),n=`payment_${e.replace(/[^a-zA-Z0-9]/g,"_")}_${t}.${r.name.split(".").pop()}`,{data:i,error:o}=await We.storage.from("payment-screenshort").upload(n,r);if(o)return console.error("File upload error:",o),{success:!1,error:o.message,path:null};const{data:l}=We.storage.from("payment-screenshort").getPublicUrl(n);return{success:!0,error:null,path:n,url:l.publicUrl}}async function bh(r){try{const{data:e,error:t}=await We.from("registrations").insert([r]).select();return t?(console.error("Registration error:",t),{success:!1,error:t.message,data:null}):{success:!0,error:null,data:e}}catch(e){return console.error("Registration error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred",data:null}}}function Rh({onBackToHome:r}){const[e,t]=g.useState(1),[s,n]=g.useState(!1),[i,o]=g.useState(!1),[l,c]=g.useState(null),[d,u]=g.useState(!1),[h,m]=g.useState("pending"),[p,y]=g.useState(""),[f,v]=g.useState(""),[_,S]=g.useState(""),[b,E]=g.useState(!1),[N,C]=g.useState(0),[k,O]=g.useState(!0),[j,$]=g.useState({emails:[{isValid:!1,error:"",isChecking:!1,isUnique:!0,uniqueError:""},{isValid:!1,error:"",isChecking:!1,isUnique:!0,uniqueError:""},{isValid:!1,error:"",isChecking:!1,isUnique:!0,uniqueError:""}],phones:[{isValid:!1,error:"",isChecking:!1,isUnique:!0,uniqueError:""},{isValid:!1,error:"",isChecking:!1,isUnique:!0,uniqueError:""},{isValid:!1,error:"",isChecking:!1,isUnique:!0,uniqueError:""}],utr:{isValid:!1,error:"",isChecking:!1,isUnique:!0,uniqueError:""},teamName:{isValid:!1,error:"",isChecking:!1,isUnique:!0,uniqueError:""}}),[w,L]=g.useState({leaderName:"",leaderEmail:"",leaderPhone:"",leaderTshirtSize:"",collegeName:"",teamName:"",member2Name:"",member2Email:"",member2Phone:"",member2TshirtSize:"",member3Name:"",member3Email:"",member3Phone:"",member3TshirtSize:"",utrNumber:"",accountHolderName:"",paymentScreenshot:null,projectIdea:""}),F=["S","M","L","XL","XXL"];g.useEffect(()=>{let x;return N>0&&(x=setInterval(()=>{C(T=>T<=1?(O(!0),0):T-1)},1e3)),()=>{x&&clearInterval(x)}},[N]),g.useEffect(()=>{e===2&&p&&!w.leaderEmail&&L(x=>({...x,leaderEmail:p}))},[e,p,w.leaderEmail]);const M=async x=>{try{u(!0),E(!0),O(!1),C(60);const T=dh();v(T),console.log(" Sending OTP email to:",x),console.log(" Generated OTP:",T);const P=await uh(x,"Team Leader",T);console.log(" Email send result:",P),P.success?(m("pending"),y(x)):(m("failed"),E(!1),O(!0),C(0))}catch(T){console.error(" Email verification error:",T),m("failed"),E(!1),O(!0),C(0)}},J=async x=>{try{(await hh(x,f)).success?(m("verified"),S("")):(m("failed"),S(""))}catch{m("failed"),S("")}},D=x=>{S(x),h==="failed"&&m("pending")},B=x=>{var K;if(!x)return{isValid:!1,error:"Email is required",isChecking:!1};if(x.length<5)return{isValid:!1,error:"Email must be at least 5 characters long",isChecking:!1};if(x.length>254)return{isValid:!1,error:"Email must be less than 254 characters",isChecking:!1};if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(x))return{isValid:!1,error:"Please enter a valid email address",isChecking:!1};if(x.includes("..")||x.includes("__")||x.includes("--"))return{isValid:!1,error:"Email contains invalid consecutive characters",isChecking:!1};const P=(K=x.split("@")[1])==null?void 0:K.toLowerCase();return!P||!P.includes(".")||P.length<3?{isValid:!1,error:"Please enter a valid email domain",isChecking:!1}:P.startsWith(".")||P.endsWith(".")||P.includes("..")?{isValid:!1,error:"Invalid domain format",isChecking:!1}:{isValid:!0,error:"",isChecking:!1}},R=x=>{if(!x)return{isValid:!1,error:"Phone number is required",isChecking:!1};const T=x.replace(/[^0-9]/g,"");if(T.length===10&&/^[6-9][0-9]{9}$/.test(T))return{isValid:!0,error:"",isChecking:!1};if(T.length===12&&T.startsWith("91")){const P=T.substring(2);if(/^[6-9][0-9]{9}$/.test(P))return{isValid:!0,error:"",isChecking:!1}}return{isValid:!1,error:"Please enter a valid 10-digit phone number",isChecking:!1}},W=x=>x?x.length!==12||!/^\d{12}$/.test(x)?{isValid:!1,error:"UTR number must be exactly 12 digits",isChecking:!1}:{isValid:!0,error:"",isChecking:!1}:{isValid:!1,error:"UTR number is required",isChecking:!1},oe=async(x,T,P)=>{j[T==="email"?"emails":"phones"][P].timeoutId&&clearTimeout(j[T==="email"?"emails":"phones"][P].timeoutId),$(Y=>({...Y,[T==="email"?"emails":"phones"]:Y[T==="email"?"emails":"phones"].map((Z,ne)=>ne===P?{...Z,isChecking:!0}:Z)}));const K=setTimeout(async()=>{const Y=T==="email"?B(x):R(x);let Z={isUnique:!0,uniqueError:""};if(Y.isValid&&x.trim()!=="")try{const ne=T==="email"?await ph(x):await gh(x);Z={isUnique:ne.isUnique,uniqueError:ne.isUnique?"":"This already exists"}}catch{Z={isUnique:!1,uniqueError:`Failed to validate ${T}. Please try again.`}}$(ne=>({...ne,[T==="email"?"emails":"phones"]:ne[T==="email"?"emails":"phones"].map((vo,yo)=>yo===P?{...Y,...Z,isChecking:!1,timeoutId:void 0}:vo)}))},800);$(Y=>({...Y,[T==="email"?"emails":"phones"]:Y[T==="email"?"emails":"phones"].map((Z,ne)=>ne===P?{...Z,timeoutId:K}:Z)}))},be=async x=>{j.utr.timeoutId&&clearTimeout(j.utr.timeoutId),$(P=>({...P,utr:{...P.utr,isChecking:!0}}));const T=setTimeout(async()=>{const P=W(x);let K={isUnique:!0,uniqueError:""};if(P.isValid&&x.trim()!=="")try{const Y=await mh(x);K={isUnique:Y.isUnique,uniqueError:Y.isUnique?"":"This already exists"}}catch{K={isUnique:!1,uniqueError:"Failed to validate UTR. Please try again."}}$(Y=>({...Y,utr:{...P,...K,isChecking:!1,timeoutId:void 0}}))},800);$(P=>({...P,utr:{...P.utr,timeoutId:T}}))},Ye=async x=>{j.teamName.timeoutId&&clearTimeout(j.teamName.timeoutId),$(P=>({...P,teamName:{...P.teamName,isChecking:!0}}));const T=setTimeout(async()=>{let P={isValid:!0,error:""},K={isUnique:!0,uniqueError:""};if(!x||x.trim()===""?P={isValid:!1,error:"Team name is required"}:x.length<3?P={isValid:!1,error:"Team name must be at least 3 characters long"}:x.length>50&&(P={isValid:!1,error:"Team name must be less than 50 characters"}),P.isValid&&x.trim()!=="")try{const Y=await vh(x);K={isUnique:Y.isUnique,uniqueError:Y.isUnique?"":"This already exists"}}catch{K={isUnique:!1,uniqueError:"Failed to validate team name. Please try again."}}$(Y=>({...Y,teamName:{...P,...K,isChecking:!1,timeoutId:void 0}}))},800);$(P=>({...P,teamName:{...P.teamName,timeoutId:T}}))},Oe=(x,T)=>{const P=["leaderEmail","member2Email","member3Email"];L(K=>({...K,[P[T]]:x})),oe(x,"email",T)},pe=(x,T)=>{const P=["leaderPhone","member2Phone","member3Phone"];L(K=>({...K,[P[T]]:x})),oe(x,"phone",T)},Me=x=>{const T=x.replace(/[^0-9]/g,"");L(P=>({...P,utrNumber:T})),be(T)},Ie=x=>{L(T=>({...T,teamName:x})),Ye(x)},A=async()=>{if(H){n(!0);try{if(console.log("Checking for duplicates..."),(await ir("team_name",w.teamName)).exists){alert("Team name already exists. Please choose a different name."),n(!1);return}if((await ir("leader_email",w.leaderEmail)).exists){alert("Leader email already registered. Please use a different email."),n(!1);return}if((await ir("utr_number",w.utrNumber)).exists){alert("UTR number already exists. Please check your UTR number."),n(!1);return}console.log("No duplicates found, submitting registration...");let K=null;if(w.paymentScreenshot){console.log("Uploading payment screenshot...");const ne=await yh(w.paymentScreenshot,w.teamName);if(ne.success)K=ne.path,console.log("Payment screenshot uploaded successfully:",ne.url);else{console.error("Payment screenshot upload failed:",ne.error),alert("Payment screenshot upload failed. Please try again."),n(!1);return}}const Y={leader_name:w.leaderName,leader_email:w.leaderEmail,leader_phone:w.leaderPhone,leader_tshirt_size:w.leaderTshirtSize,college_name:w.collegeName,team_name:w.teamName,member2_name:w.member2Name,member2_email:w.member2Email,member2_phone:w.member2Phone,member2_tshirt_size:w.member2TshirtSize,member3_name:w.member3Name,member3_email:w.member3Email,member3_phone:w.member3Phone,member3_tshirt_size:w.member3TshirtSize,utr_number:w.utrNumber,account_holder_name:w.accountHolderName,project_idea:w.projectIdea,payment_screenshot_path:K,ip_address:"127.0.0.1"};console.log("Submitting registration data:",Y);const Z=await bh(Y);if(Z.success){console.log("Registration successful:",Z.data);const ne=Z.data[0];console.log(" Saved data:",ne),c(ne),o(!0),console.log(" States updated - submitSuccess:",!0)}else console.error("Registration failed:",Z.error),alert(`Registration failed: ${Z.error}`)}catch(x){console.error("Registration error:",x),alert("Registration failed. Please try again.")}finally{n(!1)}}},V=[w.leaderEmail,w.member2Email,w.member3Email].filter(x=>x.trim()!==""),Q=[w.leaderPhone,w.member2Phone,w.member3Phone].filter(x=>x.trim()!==""),z=V.length>1&&V.length!==new Set(V).size,q=Q.length>1&&Q.length!==new Set(Q).size,H=h==="verified"&&w.leaderName&&w.leaderEmail&&w.leaderPhone&&w.leaderTshirtSize&&w.collegeName&&w.teamName&&w.member2Name&&w.member2Email&&w.member2Phone&&w.member2TshirtSize&&w.member3Name&&w.member3Email&&w.member3Phone&&w.member3TshirtSize&&w.utrNumber&&w.accountHolderName&&w.paymentScreenshot,ae=[{title:"Email Verification",icon:Ct},{title:"Team Leader",icon:Pt},{title:"Team Members",icon:Ht},{title:"Payment Details",icon:_r},{title:"Review & Submit",icon:de}];return a.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-secondary/10"}),a.jsx("div",{className:"absolute inset-0 cyber-grid opacity-20"}),a.jsx("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:20}).map((x,T)=>a.jsx(ge.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*3}},T))}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"container mx-auto px-6 py-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ge.button,{onClick:r,className:"flex items-center space-x-2 text-white hover:text-primary transition-colors",whileHover:{x:-5},children:[a.jsx(Is,{className:"w-5 h-5"}),a.jsx("span",{children:"Back to Home"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl gradient-text font-bold",children:"HackVibe 2025 Registration"}),a.jsx("p",{className:"text-muted-foreground",children:"Join the ultimate hackathon experience"})]}),a.jsx("div",{className:"w-24"})," "]})}),a.jsx("div",{className:"container mx-auto px-6 mb-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between gap-2 md:gap-4 mb-4",children:ae.map((x,T)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-full ${T+1<=e?"bg-gradient-to-r from-primary to-secondary text-white":"bg-gray-700 text-gray-400"}`,children:a.jsx(x.icon,{className:"w-4 h-4 md:w-5 md:h-5"})}),T<ae.length-1&&a.jsx("div",{className:`w-8 md:w-16 h-1 mx-1 md:mx-2 ${T+1<e?"bg-gradient-to-r from-primary to-secondary":"bg-gray-700"}`})]},x.title))}),a.jsx(Ko,{value:e/ae.length*100,className:"h-2"})]})}),a.jsx("div",{className:"container mx-auto px-6 pb-20",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:i?a.jsx(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:a.jsx($s,{className:"glassmorphism border-green-500/30 hover:border-green-500/50 transition-all duration-300",children:a.jsxs(Ls,{className:"p-12",children:[a.jsx(ge.div,{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:a.jsx(de,{className:"w-12 h-12 text-white"})}),a.jsx("h2",{className:"text-3xl gradient-text mb-4",children:"Registration Successful!"}),a.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Thank you for registering for HackVibe 2025. We've received your registration and will be in touch soon with further details."}),a.jsxs("div",{className:"space-y-4 text-left max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Sr,{className:"w-5 h-5 text-green-400"}),a.jsx("span",{className:"text-muted-foreground",children:"Registration confirmed"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ct,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{className:"text-muted-foreground",children:"Check your email for updates"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Os,{className:"w-5 h-5 text-purple-400"}),a.jsx("span",{className:"text-muted-foreground",children:"Event details coming soon"})]})]}),a.jsx(ge.div,{className:"mt-8",whileHover:{scale:1.05},children:a.jsx(we,{onClick:r,className:"bg-gradient-to-r from-primary to-secondary",children:"Back to Home"})})]})})}):a.jsxs($s,{className:"glassmorphism border-primary/30 hover:border-primary/50 transition-all duration-300",children:[a.jsxs(Lo,{className:"text-center",children:[a.jsxs(Uo,{className:"text-2xl gradient-text",children:[e===1&&"Email Verification",e===2&&"Team Leader Information",e===3&&"Team Members Information",e===4&&"Payment Details",e===5&&"Review & Submit"]}),a.jsxs(Do,{className:"text-muted-foreground",children:[e===1&&"Verify your team leader email address to proceed",e===2&&"Enter your team leader details",e===3&&"Enter details for other team members",e===4&&"Provide payment transaction details",e===5&&"Review your information and complete registration"]})]}),a.jsxs(Ls,{className:"p-8",children:[e===1&&a.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx(Ct,{className:"w-10 h-10 text-white"})})}),a.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"Email Verification Required"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Please verify your team leader's email address to proceed with registration."})]}),a.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"teamLeaderEmail",className:"flex items-center space-x-2",children:[a.jsx(Ct,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Team Leader Email Address *"})]}),a.jsx(le,{id:"teamLeaderEmail",type:"email",placeholder:"leader@college.edu",value:p,onChange:x=>y(x.target.value),className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200"})]}),b&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"otpCode",className:"flex items-center space-x-2",children:[a.jsx(Sr,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Enter 6-Digit OTP Code *"})]}),a.jsx(le,{id:"otpCode",type:"text",placeholder:"123456",value:_,onChange:x=>{const T=x.target.value.replace(/[^0-9]/g,"").slice(0,6);D(T)},maxLength:6,pattern:"[0-9]{6}",inputMode:"numeric",className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 text-center text-lg font-mono tracking-widest"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the 6-digit code sent to your email"})]}),h==="pending"&&b&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ke,{className:"w-4 h-4 text-blue-500 animate-spin"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[a.jsx("strong",{children:"OTP Sent!"})," Please check your inbox and enter the 6-digit code above."]})]})}),h==="verified"&&a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-l-4 border-green-500",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(de,{className:"w-4 h-4 text-green-500"}),a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:[a.jsx("strong",{children:"Email Verified Successfully!"})," You can now proceed with registration."]})]})}),h==="failed"&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-l-4 border-red-500",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_o,{className:"w-4 h-4 text-red-500"}),a.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:[a.jsx("strong",{children:"Invalid OTP Code!"})," Please check the code and try again."]})]})}),a.jsxs("div",{className:"flex flex-col gap-3",children:[!b&&a.jsx(we,{onClick:()=>M(p),disabled:!p||!p.includes("@"),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white border-0",children:" Send OTP Code"}),b&&h!=="verified"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{onClick:()=>J(_),disabled:!_||_.length!==6,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white border-0",children:" Verify OTP Code"}),a.jsx(we,{onClick:()=>M(p),disabled:!k,variant:"outline",className:"border-blue-500/30 text-blue-500 hover:bg-blue-500/10",children:k?" Resend OTP Code":` Resend in ${N}s`})]}),h==="verified"&&a.jsx(we,{onClick:()=>t(2),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white border-0",children:" Continue to Registration"})]}),b&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" Email Instructions"}),a.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsx("li",{children:" Check your email inbox (and spam folder)"}),a.jsx("li",{children:" Look for the email from HackVibe Team"}),a.jsx("li",{children:" Copy the 6-digit OTP code from the email"}),a.jsx("li",{children:" Enter the code in the field above"}),a.jsx("li",{children:' Click "Verify OTP Code" to proceed'})]})]})]})]}),e===2&&a.jsx(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"leaderName",className:"flex items-center space-x-2",children:[a.jsx(Pt,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Full Name *"})]}),a.jsx(le,{id:"leaderName",placeholder:"Enter your full name",value:w.leaderName,onChange:x=>L(T=>({...T,leaderName:x.target.value})),className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"leaderEmail",className:"flex items-center space-x-2",children:[a.jsx(Ct,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Email Address *"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"leaderEmail",type:"email",placeholder:"leader@example.com",value:w.leaderEmail,onChange:x=>Oe(x.target.value,0),className:`bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 ${j.emails[0].isValid&&j.emails[0].isUnique?"border-green-500":j.emails[0].error||j.emails[0].uniqueError?"border-red-500":""}`}),j.emails[0].isChecking&&a.jsx(ke,{className:"absolute right-3 top-3 w-4 h-4 text-blue-400 animate-spin"}),j.emails[0].isValid&&j.emails[0].isUnique&&a.jsx(de,{className:"absolute right-3 top-3 w-4 h-4 text-green-400"})]}),j.emails[0].error&&a.jsx("p",{className:"text-red-400 text-sm",children:j.emails[0].error}),j.emails[0].uniqueError&&a.jsx("p",{className:"text-red-400 text-sm",children:j.emails[0].uniqueError}),z&&w.leaderEmail&&V.filter(x=>x===w.leaderEmail).length>1&&a.jsx("p",{className:"text-red-400 text-sm",children:"This email is already used by another team member"}),j.emails[0].isValid&&j.emails[0].isUnique&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[a.jsx("strong",{children:"Email Verification Required:"})," After registration, you'll receive a verification email at this address. Please check your inbox and click the verification link to complete your registration."]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"leaderPhone",className:"flex items-center space-x-2",children:[a.jsx(So,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Phone Number *"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"leaderPhone",type:"tel",placeholder:"10-digit number",value:w.leaderPhone,onChange:x=>pe(x.target.value,0),className:`bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 ${j.phones[0].isValid&&j.phones[0].isUnique?"border-green-500":j.phones[0].error||j.phones[0].uniqueError?"border-red-500":""}`}),j.phones[0].isChecking&&a.jsx(ke,{className:"absolute right-3 top-3 w-4 h-4 text-blue-400 animate-spin"}),j.phones[0].isValid&&j.phones[0].isUnique&&a.jsx(de,{className:"absolute right-3 top-3 w-4 h-4 text-green-400"})]}),j.phones[0].error&&a.jsx("p",{className:"text-red-400 text-sm",children:j.phones[0].error}),j.phones[0].uniqueError&&a.jsx("p",{className:"text-red-400 text-sm",children:j.phones[0].uniqueError}),q&&w.leaderPhone&&Q.filter(x=>x===w.leaderPhone).length>1&&a.jsx("p",{className:"text-red-400 text-sm",children:"This phone number is already used by another team member"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"leaderTshirtSize",className:"flex items-center space-x-2",children:[a.jsx(Pt,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"T-Shirt Size *"})]}),a.jsxs(Or,{value:w.leaderTshirtSize,onValueChange:x=>L(T=>({...T,leaderTshirtSize:x})),children:[a.jsx($r,{className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200",children:a.jsx(Ir,{placeholder:"Select size"})}),a.jsx(Lr,{className:"bg-background border border-border text-foreground",children:F.map(x=>a.jsx(Ur,{value:x,className:"text-foreground hover:bg-primary/20 focus:bg-primary/20",children:x},x))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"collegeName",className:"flex items-center space-x-2",children:[a.jsx(Po,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"College/Organization *"})]}),a.jsx(le,{id:"collegeName",placeholder:"Enter college or organization name",value:w.collegeName,onChange:x=>L(T=>({...T,collegeName:x.target.value})),className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"teamName",className:"flex items-center space-x-2",children:[a.jsx(Ao,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Team Name *"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"teamName",placeholder:"Enter unique team name",value:w.teamName,onChange:x=>Ie(x.target.value),className:`bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 ${j.teamName.isValid&&j.teamName.isUnique?"border-green-500":j.teamName.error||j.teamName.uniqueError?"border-red-500":""}`}),j.teamName.isChecking&&a.jsx(ke,{className:"absolute right-3 top-3 w-4 h-4 text-blue-400 animate-spin"}),j.teamName.isValid&&j.teamName.isUnique&&a.jsx(de,{className:"absolute right-3 top-3 w-4 h-4 text-green-400"})]}),j.teamName.error&&a.jsx("p",{className:"text-red-400 text-sm",children:j.teamName.error}),j.teamName.uniqueError&&a.jsx("p",{className:"text-red-400 text-sm",children:j.teamName.uniqueError})]})]})}),e===3&&a.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Member 2"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{htmlFor:"member2Name",children:"Full Name *"}),a.jsx(le,{id:"member2Name",placeholder:"Enter member 2 name",value:w.member2Name,onChange:x=>L(T=>({...T,member2Name:x.target.value})),className:"glassmorphism border-primary/30 focus:border-primary"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{htmlFor:"member2Email",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"member2Email",type:"email",placeholder:"member2@example.com",value:w.member2Email,onChange:x=>Oe(x.target.value,1),className:`bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 ${j.emails[1].isValid&&j.emails[1].isUnique?"border-green-500":j.emails[1].error||j.emails[1].uniqueError?"border-red-500":""}`}),j.emails[1].isChecking&&a.jsx(ke,{className:"absolute right-3 top-3 w-4 h-4 text-blue-400 animate-spin"}),j.emails[1].isValid&&j.emails[1].isUnique&&a.jsx(de,{className:"absolute right-3 top-3 w-4 h-4 text-green-400"})]}),j.emails[1].error&&a.jsx("p",{className:"text-red-400 text-sm",children:j.emails[1].error}),j.emails[1].uniqueError&&a.jsx("p",{className:"text-red-400 text-sm",children:j.emails[1].uniqueError}),z&&w.member2Email&&V.filter(x=>x===w.member2Email).length>1&&a.jsx("p",{className:"text-red-400 text-sm",children:"This email is already used by another team member"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{htmlFor:"member2Phone",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"member2Phone",type:"tel",placeholder:"10-digit number",value:w.member2Phone,onChange:x=>pe(x.target.value,1),className:`bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 ${j.phones[1].isValid&&j.phones[1].isUnique?"border-green-500":j.phones[1].error||j.phones[1].uniqueError?"border-red-500":""}`}),j.phones[1].isChecking&&a.jsx(ke,{className:"absolute right-3 top-3 w-4 h-4 text-blue-400 animate-spin"}),j.phones[1].isValid&&j.phones[1].isUnique&&a.jsx(de,{className:"absolute right-3 top-3 w-4 h-4 text-green-400"})]}),j.phones[1].error&&a.jsx("p",{className:"text-red-400 text-sm",children:j.phones[1].error}),j.phones[1].uniqueError&&a.jsx("p",{className:"text-red-400 text-sm",children:j.phones[1].uniqueError}),q&&w.member2Phone&&Q.filter(x=>x===w.member2Phone).length>1&&a.jsx("p",{className:"text-red-400 text-sm",children:"This phone number is already used by another team member"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{htmlFor:"member2TshirtSize",children:"T-Shirt Size *"}),a.jsxs(Or,{value:w.member2TshirtSize,onValueChange:x=>L(T=>({...T,member2TshirtSize:x})),children:[a.jsx($r,{className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200",children:a.jsx(Ir,{placeholder:"Select size"})}),a.jsx(Lr,{className:"bg-background border border-border text-foreground",children:F.map(x=>a.jsx(Ur,{value:x,className:"text-foreground hover:bg-primary/20 focus:bg-primary/20",children:x},x))})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Member 3"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{htmlFor:"member3Name",children:"Full Name *"}),a.jsx(le,{id:"member3Name",placeholder:"Enter member 3 name",value:w.member3Name,onChange:x=>L(T=>({...T,member3Name:x.target.value})),className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{htmlFor:"member3Email",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"member3Email",type:"email",placeholder:"member3@example.com",value:w.member3Email,onChange:x=>Oe(x.target.value,2),className:`bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 ${j.emails[2].isValid&&j.emails[2].isUnique?"border-green-500":j.emails[2].error||j.emails[2].uniqueError?"border-red-500":""}`}),j.emails[2].isChecking&&a.jsx(ke,{className:"absolute right-3 top-3 w-4 h-4 text-blue-400 animate-spin"}),j.emails[2].isValid&&j.emails[2].isUnique&&a.jsx(de,{className:"absolute right-3 top-3 w-4 h-4 text-green-400"})]}),j.emails[2].error&&a.jsx("p",{className:"text-red-400 text-sm",children:j.emails[2].error}),j.emails[2].uniqueError&&a.jsx("p",{className:"text-red-400 text-sm",children:j.emails[2].uniqueError}),z&&w.member3Email&&V.filter(x=>x===w.member3Email).length>1&&a.jsx("p",{className:"text-red-400 text-sm",children:"This email is already used by another team member"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{htmlFor:"member3Phone",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"member3Phone",type:"tel",placeholder:"10-digit number",value:w.member3Phone,onChange:x=>pe(x.target.value,2),className:`bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 ${j.phones[2].isValid&&j.phones[2].isUnique?"border-green-500":j.phones[2].error||j.phones[2].uniqueError?"border-red-500":""}`}),j.phones[2].isChecking&&a.jsx(ke,{className:"absolute right-3 top-3 w-4 h-4 text-blue-400 animate-spin"}),j.phones[2].isValid&&j.phones[2].isUnique&&a.jsx(de,{className:"absolute right-3 top-3 w-4 h-4 text-green-400"})]}),j.phones[2].error&&a.jsx("p",{className:"text-red-400 text-sm",children:j.phones[2].error}),j.phones[2].uniqueError&&a.jsx("p",{className:"text-red-400 text-sm",children:j.phones[2].uniqueError}),q&&w.member3Phone&&Q.filter(x=>x===w.member3Phone).length>1&&a.jsx("p",{className:"text-red-400 text-sm",children:"This phone number is already used by another team member"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{htmlFor:"member3TshirtSize",children:"T-Shirt Size *"}),a.jsxs(Or,{value:w.member3TshirtSize,onValueChange:x=>L(T=>({...T,member3TshirtSize:x})),children:[a.jsx($r,{className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200",children:a.jsx(Ir,{placeholder:"Select size"})}),a.jsx(Lr,{className:"bg-background border border-border text-foreground",children:F.map(x=>a.jsx(Ur,{value:x,className:"text-foreground hover:bg-primary/20 focus:bg-primary/20",children:x},x))})]})]})]})]})]}),e===4&&a.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-400 mb-2",children:"Payment Information"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Registration fee: ",a.jsx("span",{className:"text-white font-semibold",children:"600 per team"})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[a.jsxs("div",{className:"flex-1 space-y-6 w-full",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"utrNumber",className:"flex items-center space-x-2",children:[a.jsx(Oo,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"UTR Number *"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"utrNumber",placeholder:"Enter 12-digit UTR number",value:w.utrNumber,onChange:x=>Me(x.target.value),maxLength:12,className:`bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200 ${j.utr.isValid&&j.utr.isUnique?"border-green-500":j.utr.error||j.utr.uniqueError?"border-red-500":""}`}),j.utr.isChecking&&a.jsx(ke,{className:"absolute right-3 top-3 w-4 h-4 text-blue-400 animate-spin"}),j.utr.isValid&&j.utr.isUnique&&a.jsx(de,{className:"absolute right-3 top-3 w-4 h-4 text-green-400"})]}),j.utr.error&&a.jsx("p",{className:"text-red-400 text-sm",children:j.utr.error}),j.utr.uniqueError&&a.jsx("p",{className:"text-red-400 text-sm",children:j.utr.uniqueError}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the 12-digit UTR number from your payment confirmation"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"accountHolderName",className:"flex items-center space-x-2",children:[a.jsx(Pt,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Account Holder Name *"})]}),a.jsx(le,{id:"accountHolderName",placeholder:"Enter account holder name",value:w.accountHolderName,onChange:x=>L(T=>({...T,accountHolderName:x.target.value})),className:"bg-background border border-border focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all duration-200"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{htmlFor:"paymentScreenshot",className:"flex items-center space-x-2",children:[a.jsx(zt,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Payment Screenshot *"})]}),a.jsxs("div",{className:"border-2 border-dashed border-primary/30 rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:[a.jsx("input",{type:"file",id:"paymentScreenshot",accept:"image/*",onChange:x=>{var P;const T=((P=x.target.files)==null?void 0:P[0])||null;L(K=>({...K,paymentScreenshot:T}))},className:"hidden"}),a.jsx("label",{htmlFor:"paymentScreenshot",className:"cursor-pointer",children:w.paymentScreenshot?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-green-400",children:[" File selected: ",w.paymentScreenshot.name]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Click to change file"})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-primary",children:" Click to upload payment screenshot"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Supports: JPG, PNG, JPEG"})]})})]})]})]}),a.jsxs("div",{className:"flex-1 w-full flex flex-col items-center",children:[a.jsx("h4",{className:"text-lg font-semibold text-primary mb-2",children:"Scan QR Code to Pay"}),a.jsx("div",{className:"max-w-xs w-full",children:a.jsx("img",{src:"/images/payments/600_payment_qr.jpeg",alt:"Payment QR Code",className:"w-full h-auto rounded-lg border-2 border-primary/30"})}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Scan this QR code with any UPI app to make the payment"})]})]})]}),e===5&&!i&&a.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx(de,{className:"w-10 h-10 text-white"})})}),a.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"Review Your Information"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Please review all your details before submitting the registration."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-4 flex items-center",children:[a.jsx(Ht,{className:"w-5 h-5 mr-2"}),"Team Information"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Team Name:"})," ",a.jsx("span",{className:"font-medium",children:w.teamName})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"College:"})," ",a.jsx("span",{className:"font-medium",children:w.collegeName})]})]})})]}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-4 flex items-center",children:[a.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Team Leader Details"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",a.jsx("span",{className:"font-medium",children:w.leaderName})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",a.jsx("span",{className:"font-medium",children:w.leaderEmail})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",a.jsx("span",{className:"font-medium",children:w.leaderPhone})]})]}),a.jsx("div",{className:"space-y-2",children:a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"T-Shirt Size:"})," ",a.jsx("span",{className:"font-medium",children:w.leaderTshirtSize})]})})]})]}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-4 flex items-center",children:[a.jsx(Ht,{className:"w-5 h-5 mr-2"}),"Team Members Details"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-l-4 border-primary pl-4",children:[a.jsx("h4",{className:"font-medium text-primary mb-2",children:"Member 2"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",a.jsx("span",{className:"font-medium",children:w.member2Name})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",a.jsx("span",{className:"font-medium",children:w.member2Email})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",a.jsx("span",{className:"font-medium",children:w.member2Phone})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"T-Shirt Size:"})," ",a.jsx("span",{className:"font-medium",children:w.member2TshirtSize})]})]})]})]}),a.jsxs("div",{className:"border-l-4 border-secondary pl-4",children:[a.jsx("h4",{className:"font-medium text-secondary mb-2",children:"Member 3"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",a.jsx("span",{className:"font-medium",children:w.member3Name})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",a.jsx("span",{className:"font-medium",children:w.member3Email})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",a.jsx("span",{className:"font-medium",children:w.member3Phone})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"T-Shirt Size:"})," ",a.jsx("span",{className:"font-medium",children:w.member3TshirtSize})]})]})]})]})]})]}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-4 flex items-center",children:[a.jsx(_r,{className:"w-5 h-5 mr-2"}),"Payment Details"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"UTR Number:"})," ",a.jsx("span",{className:"font-medium",children:w.utrNumber})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Account Holder:"})," ",a.jsx("span",{className:"font-medium",children:w.accountHolderName})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount:"})," ",a.jsx("span",{className:"font-medium text-green-500",children:"600"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Payment Screenshot:"}),a.jsx("span",{className:`font-medium ${w.paymentScreenshot?"text-green-500":"text-red-500"}`,children:w.paymentScreenshot?" Uploaded":" Not uploaded"})]})]})]})]}),w.projectIdea&&a.jsxs("div",{className:"glassmorphism rounded-2xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-4 flex items-center",children:[a.jsx(zt,{className:"w-5 h-5 mr-2"}),"Project Idea"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.projectIdea})]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-6",children:a.jsxs(we,{onClick:()=>{console.log(" Preview download button clicked");const x={team_name:w.teamName,college_name:w.collegeName,leader_name:w.leaderName,leader_email:w.leaderEmail,leader_phone:w.leaderPhone,leader_tshirt_size:w.leaderTshirtSize,member2_name:w.member2Name,member2_email:w.member2Email,member2_phone:w.member2Phone,member2_tshirt_size:w.member2TshirtSize,member3_name:w.member3Name,member3_email:w.member3Email,member3_phone:w.member3Phone,member3_tshirt_size:w.member3TshirtSize,utr_number:w.utrNumber,account_holder_name:w.accountHolderName,project_idea:w.projectIdea,unique_code:"PREVIEW"};console.log(" Preview data:",x),$n(x)},variant:"outline",className:"border-blue-500/30 text-blue-500 hover:bg-blue-500/10",children:[a.jsx(zt,{className:"w-4 h-4 mr-2"}),"Download Preview PDF"]})})]})]}),i&&a.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"space-y-8 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center glow-green",children:a.jsx(de,{className:"w-12 h-12 text-white"})})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-3xl font-bold gradient-text",children:"Registration Successful! "}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Welcome to HackVibe 2025! Your team has been successfully registered."})]}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6 text-left",children:[a.jsx("h3",{className:"text-lg font-semibold text-primary mb-4",children:" Registration Summary"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Team Name:"})," ",a.jsx("span",{className:"font-medium",children:l==null?void 0:l.team_name})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"College:"})," ",a.jsx("span",{className:"font-medium",children:l==null?void 0:l.college_name})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Team Leader:"})," ",a.jsx("span",{className:"font-medium",children:l==null?void 0:l.leader_name})]})]}),a.jsxs("div",{children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Event Date:"})," ",a.jsx("span",{className:"font-medium",children:"September 11th, 2025"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Venue:"})," ",a.jsx("span",{className:"font-medium",children:"Vignan Institute of Technology and Science"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Registration Fee:"})," ",a.jsx("span",{className:"font-medium",children:"600"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(we,{onClick:()=>{console.log(" Success section download button clicked"),console.log(" Registration data:",l),l?(console.log(" Data available, calling download function..."),$n(l)):(console.error(" Missing data:",{registrationData:l}),alert("Registration data not available. Please try refreshing the page."))},className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white border-0 glow-cyan",children:[a.jsx(zt,{className:"w-4 h-4 mr-2"}),"Download Registration Details"]}),a.jsx(we,{onClick:r,variant:"outline",className:"border-primary/30 text-primary hover:bg-primary/10",children:"Back to Home"})]}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6 border-l-4 border-primary",children:[a.jsx("h4",{className:"text-lg font-semibold text-primary mb-3",children:" Important Notes"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left",children:[a.jsx("li",{children:" Bring a valid ID proof to the event"}),a.jsxs("li",{children:[" Event Date: ",a.jsx("strong",{children:"September 11th, 2025"})]}),a.jsxs("li",{children:[" Venue: ",a.jsx("strong",{children:"Vignan Institute of Technology and Science"})]}),a.jsxs("li",{children:[" Registration Fee: ",a.jsx("strong",{children:"600"})," (already paid)"]}),a.jsx("li",{children:" Contact organizers if you have any questions"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between mt-8 gap-4",children:[e>1&&a.jsxs(we,{variant:"outline",onClick:()=>t(x=>Math.max(1,x-1)),className:"border-primary/30 text-primary hover:bg-primary/10",children:[a.jsx(Is,{className:"w-4 h-4 mr-2"}),"Previous"]}),e===1?null:e<5?a.jsxs(we,{onClick:()=>t(x=>x+1),disabled:e===2&&(!w.leaderName||!w.leaderEmail||!w.leaderPhone||!w.leaderTshirtSize||!w.collegeName||!w.teamName)||e===3&&(!w.member2Name||!w.member2Email||!w.member2Phone||!w.member2TshirtSize||!w.member3Name||!w.member3Email||!w.member3Phone||!w.member3TshirtSize)||e===4&&(!w.utrNumber||!w.accountHolderName||!w.paymentScreenshot),className:"bg-gradient-to-r from-primary to-secondary sm:ml-auto",children:["Next",a.jsx(Co,{className:"w-4 h-4 ml-2"})]}):e===5&&!i?a.jsx("div",{className:"space-y-4",children:a.jsx(we,{onClick:()=>{console.log(" Complete Registration button clicked"),console.log(" canSubmit:",H),console.log(" isSubmitting:",s),console.log(" verificationStatus:",h),console.log(" formData:",w),console.log(" Validations:",j),console.log(" Has duplicate emails:",z),console.log(" Has duplicate phones:",q),A()},disabled:!H||s,className:"bg-gradient-to-r from-green-500 to-emerald-500 sm:ml-auto",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(de,{className:"w-4 h-4 mr-2"}),"Complete Registration"]})})}):null]})]})]})})})]}),a.jsx(jo,{}),a.jsx("div",{className:"container mx-auto px-6 pb-20 mt-10",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(ge.div,{className:"grid grid-cols-2 gap-3 md:grid-cols-2 lg:grid-cols-4 md:gap-6",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[a.jsxs("div",{className:"glassmorphism rounded-2xl p-6 text-center hover:glow-purple transition-all duration-300 group",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:a.jsx(Ht,{className:"w-8 h-8 text-white"})}),a.jsx("h4",{className:"text-lg gradient-text mb-2",children:"Team Registration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Form teams of exactly 3 members"})]}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6 text-center hover:glow-purple transition-all duration-300 group",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:a.jsx(_r,{className:"w-8 h-8 text-white"})}),a.jsx("h4",{className:"text-lg gradient-text mb-2",children:"Easy Payment"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"600 registration fee via UPI"})]}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6 text-center hover:glow-purple transition-all duration-300 group",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:a.jsx(Sr,{className:"w-8 h-8 text-white"})}),a.jsx("h4",{className:"text-lg gradient-text mb-2",children:"Secure Process"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct registration with validation"})]}),a.jsxs("div",{className:"glassmorphism rounded-2xl p-6 text-center hover:glow-purple transition-all duration-300 group",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:a.jsx(Os,{className:"w-8 h-8 text-white"})}),a.jsx("h4",{className:"text-lg gradient-text mb-2",children:"24 Hour Event"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Non-stop innovation marathon"})]})]})})})]})}export{Rh as RegistrationPage};
